<html>
  <head>
    <meta charset="utf-8"/>
    <style>
      body {margin:0; padding:0; background:linear-gradient(70deg, #ffffd0 0%, #fff 100%)}
      p {margin: 5px 0 5px 0}
      #hl {position: absolute; display: none; overflow: hidden; white-space: nowrap; pointer-events: none; background-color: #00000000; outline: 0.5px solid #222; height: 15px}
      #hl span {padding: 0 3px 0 3px}
      #tooltip {position: absolute; display: none; overflow: hidden; white-space: normal;
                pointer-events: none; background: #DCE3E5; box-shadow:#00000019 0px 2px 6px;
                max-width: 250px; animation: .2s fadeIn; animation-fill-mode: forwards;
                visibility: hidden; font-size: 11px; border-radius:4px;}
      #tooltip span {overflow-wrap: anywhere; color: #4C4E4F; display: inline-block; margin: 4px 6px;}
      #tooltip span.sep {margin: 4px 0; color:#fff;}
      #tooltip .framediv {padding:0 0; border-bottom: 1px solid #fff;}
      #tooltip .statdiv {display:flex; justify-content:space-around;}
      #tooltipRightClickHint {font-size:9px; width:100%; display:flex; justify-content:center;}
      @keyframes fadeIn { 99% { visibility:hidden; } 100% { visibility:visible; }}
      .statusBox {background-color:#ffffe6; position:fixed; left:0; bottom:0; width:100%;
                  box-sizing: border-box; padding:5px 1em; display:inline-flex;
                  justify-content:space-between;}
      #hoverTip {overflow: hidden; white-space: nowrap}
      #matchContainer {/* overflow: hidden; white-space: nowrap; */ display: none; /* float: right; text-align: right */}
      .wrapper {position:relative;}
      .row{border-spacing:0.2em 0; width:100%; display:flex;}
      .sidebar-row{display:table; border-spacing:0.2em 0; width:100%; display:inline-flex;
                   margin:5px 0; align-items: center;}
      .vpadding5{padding:5px 0;}
      .w-100{width:100%;display:flex}
      .graphCol{flex: 80%; padding:5 10; box-sizing:border-box;}
      #sidebar{flex:20%;}
      .configBlock{position:fixed; overflow-y:auto; top:1em; bottom:2.5em; padding:10px 6px;
                   background: #fff; box-sizing: border-box; margin-right:1em;
                   border-radius:10px; box-shadow:#00000061 0px 3px 8px;}
      #titleDiv {justify-content:center;}
      .text-field {border:none; border-bottom:1.5px solid #b0b0b0; outline:none;
                   padding:5px 0; transition:border-color 0.3s ease-in-out; background:transparent;}
      .text-field:focus {border-bottom-color:#006d5b;}
      #graphTitleSpan{display:inline-block; max-height:28px; font-size:9px;
                      overflow:hidden; white-space:normal;}
      .radio-input {display:none;}
      .radio-label {display:inline-block; padding:5px 10px; position:relative;
                    transition: color 0.3s ease; cursor:pointer;}
      .radio-input:checked + .radio-label::after {
          content:''; display:block; width:100%; height:2px; position:absolute;
          background-color: #006d5b; bottom:0; left:0;}
      .radio-input:checked + .radio-label {color:#006d5b;}
      .btn:active {transform:scale(0.90);}
      .toggle {background:none; border:none; padding:6px; transition: all 0.3s ease;}
      .toggle svg {width:16px; height:16px; fill:#006d5b; stroke:#006d5b;
                   transition: all 0.3s ease;}
      .toggle.arcs svg {fill:white;}
      .toggle:hover {background-color: #e6f2ff; border-radius: 5px;}
      .toggle.arcs:hover svg {fill:#e6f2ff;}
      .toggle:active {transform:scale(0.90);}
      .toggle.toggled {background-color: #006d5b; border-radius: 5px;}
      .toggle.toggled svg {stroke:#fff; fill:#fff;}
      .toggle.toggled.arcs svg {fill:#006d5b;}
      input {accent-color:#006d5b;}
      input#isNormalized {weight:16; height:16; margin:6;}
      .chip {background:none; border: 1.5px solid #a5a5a5; border-radius:4px;
             font-size:10px; width:70px; color:#575757; padding: 2px 0;}
      .chip-row {justify-content:space-evenly; margin-top: 1.5em;}
      .xform-odd-block {background:#f4f4f4; margin-left:-3px; margin-right:-3px;
                        padding-left:3px; padding-right:3px}
      .xform-action-row {display:flex; justify-content:space-between; width:100%;
                         align-items:center;}
      .flx {display:flex; gap:5px; align-items:center;}
      .minibtn {background:none; border:none;}
      .minibtn svg {width:12px; height:12px;}
      
      #smallbar{box-sizing:border-box; padding:10px 6px; right:1em; top:1em;
                position:fixed; z-index:100; background:#fff; border-radius:10px;
                box-shadow:#00000061 0px 3px 8px;}
      .margins {margin-top:5px; margin-bottom:5px;}
      .vmargins {margin: 0px 1px;}

      .context {display: inline-block; position:fixed; top:0px; left:0px; min-width:200px;
                color:#fff;  background:#262933; font-size:9pt; border:1px solid #333333;
                border-radius:6px; box-shadow:2px 2px 2px -1px #00000088;
                padding:3px 0px; -webkit-touch-callout:none; -webkit-user-select:none;
                -khtml-user-select:none; -moz-user-select:none; -ms-user-select:none;
                user-select:none; z-index:200;}
      .context .item {padding:4px 19px; cursor:default; color:inherit;}
      .context .item:hover {background:#006d5b;}
      .context .disabled {color:#878b90;}
      .context .disabled:hover {background:inherit;}
      .context .disabled:hover .hotkey {color: #878b90;}
      .context .separator {margin:4px 0px; height:0; padding:0; border-top:1px solid #454545;}
      span.status {overflow:hidden;}

      #spinner {color:#006d5b;}
      #spinner, #spinner:after {box-sizing: border-box;}
      #spinner {display:inline-block; width:12px; height:12px; margin-right: 5px;}
      #spinner:after {content:" "; display:block; width:12px; height:12px;
                      border-radius:50%; border:3px solid currentColor;
                      border-color:currentColor transparent currentColor transparent;
                      animation:spinner 1.2s cubic-bezier(.75,-0.55,.28,1.71) infinite;}
      @keyframes spinner {0% {transform: rotate(0deg);} 100% {transform: rotate(360deg);}}
    </style>
  </head>
  <body style='font: 12px Verdana, sans-serif'>
    <div class="wrapper">
      <div class="row">
        <div class="graphCol">
          <div id='canvasDiv'><canvas id='canvas' style='width:100%; margin-bottom:20px;'></canvas></div>
          <div id='hl'><span></span></div>
          <div id='tooltip'>
            <div class="framediv"><span id='tooltipFrameSpan'></span></div>
            <div class="statdiv">
              <span id='tooltipSamplesSpan'><b>123,456</b> samples</span>
              <span class="sep">|</span>
              <span id='tooltipPctSelfSpan'><b>-41.67%</b> self</span>
              <span class="sep" id="tooltipSep2">|</span>
              <span id='tooltipPctTotalSpan'><b>+41.67%</b> total</span>
            </div>
            <div id="tooltipRightClickHint"><span><i>Right click for options</i></span></div>
          </div>
          <div class='statusBox'>
            <span id="spinner"></span>
            <span id='hoverTip'></span>
            <span id='matchContainer'>Matched: <span id='matchedLabel'></span></span>
          </div>
        </div>
        <!-- Collapsed sidebar (smallbar) -->
        <div id="smallbar" style="visibility:hidden;">
          <div class="vpadding5"><button class="toggle" onclick="setSidebarVisibility(true)" title="Expand sidebar">
              <svg><use href="#expand-icon"/></svg>
          </button></div>
          <div class="vpadding5"><button id="highlightButton1" class="toggle arcs" onclick="smallbarHighlightButtonOnClick()">
              <svg><use href="#search-icon"/></svg>
          </button></div>
          <div class="vpadding5"><button id="inverseButton1" class="toggle" onclick="inverseOnClick()">
              <svg><use href="#reverse-icon"/></svg>
          </button> </div>
        </div>
        <!-- Full sidebar -->
        <div id="sidebar" style="visibility:hidden;">
          <div class="configBlock">
            <div class="sidebar-row">
              <div id="titleDiv" class="w-100">
                <b><span id="graphTitleSpan">Flamegraph</span></b>
              </div>
              <button class="toggle" onclick="setSidebarVisibility(false)" title="Collapse sidebar">
                <svg><use href="#collapse-icon"/></svg>
              </button>
            </div>
            <div class="sidebar-row">
              <input class="w-100 text-field" placeholder="Search string or /regex/" id="highlightInput"/>
              &nbsp;
              <button id="highlightButton2" class="toggle arcs" onclick="highlightButtonOnClick()">
                <svg><use href="#search-icon"/></svg>
              </button>
            </div>
            <div class="sidebar-row">
              <div class="w-100"><strong>Reversed</strong></div>
              <button id="inverseButton2" class="toggle" onclick="inverseOnClick()">
                <svg><use href="#reverse-icon"/></svg>
              </button>
            </div>
            <div class="sidebar-row" id="isNormalizedDiv">
              <div class="w-100"><strong>Normalized</strong></div>
              <input type="checkbox" id="isNormalized" name="isNormalized" onchange="onTransformsChangedDontRecreate()">
            </div>
            <div class="sidebar-row">
              <div class="w-100"><strong>Sort by</strong></div>
              <input type="radio" id="sortByNameRadio" name="sortBy" value="name" class="radio-input" onchange="sortRadioChange(this)">
              <label for="sortByNameRadio" class="radio-label">Name</label>
              <input type="radio" id="sortByWidthRadio" name="sortBy" value="width" class="radio-input" onchange="sortRadioChange(this)" checked>
              <label for="sortByWidthRadio" class="radio-label">Width</label>
            </div>
            <div class="sidebar-row chip-row">
              <button class="chip btn" onclick="addNewTransform('filter')" >+ Filter</button>
              <button class="chip btn" onclick="addNewTransform('remove')" >+ Remove</button>
              <button class="chip btn" onclick="addNewTransform('replace')">+ Replace</button>
            </div>
            <div id="transformsContainer">
            </div>

            <div id="transformReplaceTemplate" style="display:none" class="margins vpadding5">
              <div class="xform-action-row">
                <div class="flx">
                  <input type="checkbox" class="chkEnabled" onchange="onTransformsChangedDontRecreate()" checked>
                  <label>Replace</label>
                </div>
                <div class="flx">
                  <button class="minibtn btn btnMoveUp" title="Move up" onclick="moveTransformUp(this)"><svg><use href="#arrow-up-icon"/></svg></button>
                  <button class="minibtn btn btnDelete" title="Delete" onclick="deleteTransform(this)"><svg><use href="#delete-icon"/></svg></button>
                </div>
              </div>
              <div class="row" style="margin-top:1px;margin-bottom:1px">
                <div class="w-100 no-vmargins">
                  <input class="what no-vmargins w-100 text-field" placeholder="String or /regex/"/><br>
                </div>
              </div>
              <div class="row" style="margin-top:1px;margin-bottom:1px">
                <div class="w-100 no-vmargins">
                  <input class="replacement no-vmargins w-100 text-field" placeholder="Replacement"/><br>
                </div>
              </div>
            </div>

            <div id="transformFilterTemplate" style="display:none" class="margins vpadding5">
              <div class="xform-action-row">
                <div class="flx">
                  <input type="checkbox" class="chkEnabled" onchange="onTransformsChangedDontRecreate()" checked>
                  <label class="label">Filter</label>
                </div>
                <div class="flx">
                  <button class="minibtn btn btnMoveUp" title="Move up" onclick="moveTransformUp(this)"><svg><use href="#arrow-up-icon"/></svg></button>
                  <button class="minibtn btn btnDelete" title="Delete" onclick="deleteTransform(this)"><svg><use href="#delete-icon"/></svg></button>
                </div>
              </div>
              <div class="row">
                <div class="w-100">
                  <input class="what w-100 text-field" placeholder="String or /regex/"/><br>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
      <svg style="display:none" xmlns="http://www.w3.org/2000/svg">
        <defs>
          <symbol id="reverse-icon" viewBox="0 0 112.62 120.72">
            <path d="M11.64,100.12l-.4-.47-1.06,8.63a5.08,5.08,0,0,1-1.92,3.41A5.11,5.11,0,0,1,0,107L2.79,84.65v-.07a3.28,3.28,0,0,1,.08-.41h0A5.09,5.09,0,0,1,9,80.39q11.22,2.53,22.42,5.15a5,5,0,0,1,3.17,2.25,5.14,5.14,0,0,1,.64,3.84v0a5,5,0,0,1-2.25,3.16,5.08,5.08,0,0,1-3.83.65c-3.31-.75-6.62-1.52-9.92-2.28a40.71,40.71,0,0,0,2.84,3,50.09,50.09,0,0,0,26.23,13.49,48.67,48.67,0,0,0,14.71.34A47.35,47.35,0,0,0,77,106h0q2.52-1.19,4.83-2.54c1.56-.93,3.07-1.92,4.51-3a50.8,50.8,0,0,0,8.56-7.88,48.92,48.92,0,0,0,6.39-9.45l.56-1.1,10,2.69-.8,1.66a58.64,58.64,0,0,1-7.9,12.24,61.28,61.28,0,0,1-10.81,10.1c-1.68,1.23-3.46,2.4-5.32,3.5s-3.73,2.07-5.74,3a58,58,0,0,1-17,5,58.56,58.56,0,0,1-17.79-.39,60.21,60.21,0,0,1-31.58-16.26c-1.2-1.16-2.26-2.31-3.24-3.45ZM101,20.6l.4.47,1-8.63a5.11,5.11,0,1,1,10.14,1.26l-2.74,22.37,0,.07c0,.13,0,.27-.07.41h0a5.09,5.09,0,0,1-6.08,3.78c-7.47-1.69-15-3.4-22.42-5.15a5,5,0,0,1-3.16-2.25,5.1,5.1,0,0,1-.65-3.84v0a5,5,0,0,1,2.25-3.16,5.1,5.1,0,0,1,3.84-.65c3.31.75,6.61,1.52,9.92,2.28-.84-1-1.77-2-2.84-3.05a50.09,50.09,0,0,0-12.13-8.73A49.49,49.49,0,0,0,64.37,11a48.6,48.6,0,0,0-14.7-.34,47.26,47.26,0,0,0-14,4.1h0q-2.53,1.18-4.83,2.54c-1.57.93-3.07,1.92-4.52,3a50.34,50.34,0,0,0-8.55,7.88,48,48,0,0,0-6.39,9.45l-.57,1.1L.76,36l.8-1.66A58.9,58.9,0,0,1,9.46,22.1,61.63,61.63,0,0,1,20.27,12q2.54-1.85,5.32-3.5c1.81-1.06,3.73-2.07,5.74-3a58,58,0,0,1,17-5A58.56,58.56,0,0,1,66.16.89a59.77,59.77,0,0,1,17,5.74A60.4,60.4,0,0,1,97.75,17.15c1.19,1.16,2.26,2.31,3.24,3.45Z"/>
          </symbol>
        </defs>
      </svg>
      <svg style="display:none" xmlns="http://www.w3.org/2000/svg">
        <defs>
          <symbol id="search-icon" viewBox="0 0 12 12">
            <path d="M11 11L8.58333 8.58333M9.88889 5.44444C9.88889 7.89906 7.89906 9.88889 5.44444 9.88889C2.98984 9.88889 1 7.89906 1 5.44444C1 2.98984 2.98984 1 5.44444 1C7.89906 1 9.88889 2.98984 9.88889 5.44444Z" stroke-linecap="round" stroke-linejoin="round"/>
          </symbol>
        </defs>
      </svg>
      <svg style="display:none" xmlns="http://www.w3.org/2000/svg">
        <defs>
          <symbol id="expand-icon" viewBox="0 0 12 12">
            <path d="M7.11111 4.88889L11 1M11 1H7.66667M11 1V4.33333M4.88889 7.11111L1 11M1 11H4.33333M1 11V7.66667" stroke-linecap="round" stroke-linejoin="round"/>
          </symbol>
        </defs>
      </svg>
      <svg style="display:none" xmlns="http://www.w3.org/2000/svg">
        <defs>
          <symbol id="collapse-icon" viewBox="0 0 12 12">
            <path d="M1.55556 7.11111H4.88889M4.88889 7.11111V10.4444M4.88889 7.11111L1 11M10.4444 4.88889H7.11111M7.11111 4.88889V1.55556M7.11111 4.88889L11 1" stroke-linecap="round" stroke-linejoin="round"/>
          </symbol>
        </defs>
      </svg>
      <svg style="display:none" xmlns="http://www.w3.org/2000/svg">
        <defs>
          <symbol id="info-icon" viewBox="0 0 16 16" fill="none">
            <path d="M8 10.8V8V10.8ZM8 5.2H8.007H8ZM15 8C15 11.866 11.866 15 8 15C4.13401 15 1 11.866 1 8C1 4.13401 4.13401 1 8 1C11.866 1 15 4.13401 15 8Z" fill="#EEEEEE"/>
            <path d="M8 10.8V8M8 5.2H8.007M15 8C15 11.866 11.866 15 8 15C4.13401 15 1 11.866 1 8C1 4.13401 4.13401 1 8 1C11.866 1 15 4.13401 15 8Z" stroke="#5B5B5B" stroke-linecap="round" stroke-linejoin="round"/>
          </symbol>
        </defs>
      </svg>
      <svg style="display:none" xmlns="http://www.w3.org/2000/svg">
        <defs>
          <symbol id="arrow-up-icon" viewBox="0 0 6 12" fill="none">
            <path d="M3 4.76837e-07L0.113249 5H5.88675L3 4.76837e-07ZM3.5 12L3.5 4.5H2.5L2.5 12H3.5Z" fill="black"/>
          </symbol>
        </defs>
      </svg>
      <svg style="display:none" xmlns="http://www.w3.org/2000/svg">
        <defs>
          <symbol id="delete-icon" viewBox="0 0 16 16" fill="none">
            <line x1="3.8892" y1="3.88912" x2="11.6674" y2="11.6673" stroke="black"/><line x1="3.88912" y1="11.6674" x2="11.6673" y2="3.88927" stroke="black"/>
          </symbol>
        </defs>
      </svg>
    </div>
    <script>
      // This file was taken from https://github.com/async-profiler/async-profiler and
// heavily rewritten afterwards.
// Licensed under the Apache License, Version 2.0. Copyright 2020 Andrei Pangin

/// Constants
const c = canvas.getContext('2d');
const sidebarWidth = sidebar.offsetWidth; // Remember while sidebar is visible.
const qString = new URLSearchParams(window.location.search)
const transformFilterTemplate = document.getElementById('transformFilterTemplate');
const transformReplaceTemplate = document.getElementById('transformReplaceTemplate');

var sidebarVisible = false;
var canvasWidth, canvasHeight;

if (qString.get('sidebar') == 'expanded') {
  sidebarVisible = true;
}

function updateSidebarState() {
  if (sidebarVisible) {
    sidebar.style.display = 'block';
    smallbar.style.display = 'none';
    canvasWidth = window.innerWidth - sidebarWidth;
  } else {
    sidebar.style.display = 'none';
    smallbar.style.display = 'block';
    canvasWidth = window.innerWidth;
  }
  canvasWidth -= 20; // Reduce by the padding of .graphCol
}

updateSidebarState();

var graphTitle = "cljap-diffgraphs-fg1.txt vs cljap-diffgraphs-fg2.txt" || "Flamegraph";
var isDiffgraph = true;
var b_scale_factor;
var reverseGraph = false;
var initialStacks = [];
var stacks;
// idToFrame gets defined at the end of the file
var _lastInsertedStack = null;

if (isDiffgraph) {
  tooltip.style['max-width'] = '350px';
} else {
  isNormalizedDiv.remove();
  tooltipSep2.remove();
  tooltipPctTotalSpan.remove();
}
graphTitleSpan.innerText = graphTitle;
graphTitleSpan.title = graphTitle;

function a(frameIds, samples) {
  var same = frameIds[0];
  var frames = (same > 0) ? _lastInsertedStack.slice(0,same) : [];

  for (var i = 1, len = frameIds.length; i < len; i++) {
    frames.push(idToFrame[frameIds[i]]);
  }

  _lastInsertedStack = frames;
  initialStacks.push({stackStr: frames.join(";"), samples: samples});
}

var totalSamplesA = 0, totalSamplesB = 0;

function d(frameIds, samples_a, samples_b) {
  var same = frameIds[0];
  var frames = (same > 0) ? _lastInsertedStack.slice(0,same) : [];

  for (var i = 1, len = frameIds.length; i < len; i++) {
    frames.push(idToFrame[frameIds[i]]);
  }

  totalSamplesA += samples_a;
  totalSamplesB += samples_b;

  _lastInsertedStack = frames;
  initialStacks.push({stackStr: frames.join(";"),
                      samples_a: samples_a, samples_b: samples_b});
}

function _extractRegexPrefix(s) {
  let parsed = s.match(/^\/\.\+(.+)\/g$/);
  if (parsed != null) {
    return new RegExp(parsed[1], 'g');
  }
}

function _stringToMaybeRegex(s) {
  if (s == null) return null;
  let parsed = s.match(/^\/(.+)\/$/);
  if (parsed != null)
    return new RegExp(parsed[1], 'g');
  else
    return s;
}

function _makeTransform(type, enabled, what, replacement) {
  let what2 = (typeof(what) == 'string') ? _stringToMaybeRegex(what) : what;
  let what2Str = what2.toString();
  let prefix = (what2 instanceof RegExp) ?
      _extractRegexPrefix(what2Str) : null;
  if (type == 'replace')
    return { type: type, enabled: enabled, what: what2, replacement: replacement, prefix: prefix}
  else
    return { type: type, enabled: enabled, what: what2}
}

var userTransforms = [_makeTransform('remove', true, "thread_start", null)];

function match(string, obj) {
  if (typeof(obj) == 'string') {
    return string.includes(obj);
  } else
    return string.match(obj);
}

function applyReplacement(string, what, replacement, prefix) {
  var s = string;
  var prevMatch = null;
  if (prefix != null) {
    while (true) {
      let match = prefix.exec(string);
      if (match == null) {
        if (prevMatch == null)
          return s;
        else {
          s = string.substring(Math.max(prevMatch.index, 0));
          return s.replace(prefix, replacement);
        }
      } else {
        prevMatch = match;
      }
    }
  }
  return s.replaceAll(what, replacement);
}

function transformStacks() {
  console.time("[clj-async-profiler] Transform stacks");
  let diff = isDiffgraph;
  var result;
  if (userTransforms.length > 0) {
    var xformedMap = {};
    for (var i = 0; i < initialStacks.length; i++) {
      var stack = initialStacks[i];
      var xformedStr = ";" + stack.stackStr + ";";
      var useIt = true;

      for (var t = 0; t < userTransforms.length; t++) {
        const transform = userTransforms[t];
        if (transform.enabled && transform.what != '') {
          if (transform.type == 'replace') {
            xformedStr = applyReplacement(xformedStr, transform.what,
                                          transform.replacement, transform.prefix);
          } else if (transform.type == 'filter') {
            if (!match(xformedStr, transform.what))
              useIt = false;
          } else if (transform.type == 'remove') {
            if (match(xformedStr, transform.what))
              useIt = false;
          }
        }
        if (!useIt) break;
      }

      xformedStr = xformedStr.substring(1,xformedStr.length-1);

      if (useIt)
        if (diff) {
          let newVal = (xformedMap[xformedStr] || {});
          newVal.samples_a = (newVal.samples_a || 0) + stack.samples_a;
          newVal.samples_b = (newVal.samples_b || 0) + stack.samples_b;
          xformedMap[xformedStr] = newVal;
        } else
          xformedMap[xformedStr] = stack.samples + (xformedMap[xformedStr] || 0);
    }

    var xformedStacks = [];
    for (xformedStr in xformedMap) {
      if (diff) {
        let val = xformedMap[xformedStr];
        xformedStacks.push({stackStr: xformedStr, samples_a: val.samples_a, samples_b: val.samples_b})
      } else
        xformedStacks.push({stackStr: xformedStr, samples: xformedMap[xformedStr]});
    }
    result = xformedStacks;
  } else
    result = initialStacks;

  console.timeEnd("[clj-async-profiler] Transform stacks");
  return result;
}

function makeTreeNode() {
  if (isDiffgraph)
    return {self_samples_a: 0, self_samples_b: 0, self_delta: 0,
            total_samples_a: 0, total_samples_b: 0, total_delta: 0,
            delta_abs: 0, children: {}};
  else
    return {self: 0, total: 0, children: {}};
}

function getChildNode(node, childTitle) {
  var children = node.children;
  var child = children[childTitle];
  if (child == undefined) {
    child = makeTreeNode();
    children[childTitle] = child;
  }
  return child;
}

function parseStacksToTreeSimple(stacks, treeRoot) {
  for (let i = 0, len = stacks.length; i < len; i++) {
    let stack = stacks[i];
    let stackframes = stack.stackStr.split(";");
    let stackLen = stackframes.length;
    let node = treeRoot;
    let samples = stack.samples;
    if (reverseGraph) {
      for (let j = stackLen-1; j >= 0; j--) {
        node.total += samples;
        node = getChildNode(node, stackframes[j]);
      }
    } else {
      for (let j = 0; j < stackLen; j++) {
        node.total += samples;
        node = getChildNode(node, stackframes[j]);
      }
    }
    node.total += samples;
    node.self += samples;
  }
}

function parseStacksToTreeDiffgraph(stacks, treeRoot) {
  let normalizeDiff = isNormalized.checked;
  for (let i = 0, len = stacks.length; i < len; i++) {
    let stack = stacks[i];
    let stackframes = stack.stackStr.split(";");
    let stackLen = stackframes.length;
    var node = treeRoot;

    let samplesA = stack.samples_a;
    let samplesB = stack.samples_b;
    if (normalizeDiff) samplesB = Math.round(samplesB * b_scale_factor);
    let delta = samplesB - samplesA;

    if (reverseGraph) {
      for (let j = stackLen-1; j >= 0; j--) {
        node.total_samples_a += samplesA;
        node.total_samples_b += samplesB;
        node.total_delta += delta;
        node.delta_abs += Math.abs(delta);
        node = getChildNode(node, stackframes[j]);
      }
    } else {
      for (let j = 0; j < stackLen; j++) {
        node.total_samples_a += samplesA;
        node.total_samples_b += samplesB;
        node.total_delta += delta;
        node.delta_abs += Math.abs(delta);
        node = getChildNode(node, stackframes[j]);
      }
    }
    node.self_samples_a += samplesA;
    node.self_samples_b += samplesB;
    node.self_delta += delta;
    node.total_samples_a += samplesA;
    node.total_samples_b += samplesB;
    node.total_delta += delta;
    node.delta_abs += Math.abs(delta);
  }
}

function parseStacksToTree(stacks, treeRoot) {
  console.time("[clj-async-profiler] Generate tree");
  if (isDiffgraph)
    parseStacksToTreeDiffgraph(stacks, treeRoot);
  else
    parseStacksToTreeSimple(stacks, treeRoot);
  console.timeEnd("[clj-async-profiler] Generate tree");
}

const palette = {
  green     : "#50e150",
  inlined   : "#46c4bf",
  unknown   : "#f7a65b",
  cpp       : "#d9d800",
  kernel    : "#f15964",
  java      : "#91dc51",
  clojure   : "#8fb5fe",
  highlight : "#ee00ee",
  total     : "#999999",
  diff      : { blue    : [51, 119, 255],    // #3377FF
                neutral : [245, 245, 245],   // #F5F5F5
                red     : [253, 59, 73] } }; // #FD3B49

function frameColor(title) {
  if (title.endsWith("_[j]")) {
    return palette.green;
  } else if (title.endsWith("_[i]")) {
    return palette.inlined;
  } else if (title.endsWith("_[k]")) {
    return palette.kernel;
  } else if (title.includes("::") || title.startsWith("-[") || title.startsWith("+[")) {
    return palette.cpp;
  } else if (title.includes("/")) { // Clojure (will only work after unmunging)
    return palette.clojure;
  } else if (title.includes(".")) { // Java (if it has a dot and is not Clojure)
    return palette.java;
  } else if (title == "Total") {
    return palette.total;
  } else return palette.unknown;
}

function decToHex(n) {
  var hex = n.toString(16);
  return hex.length == 1 ? "0" + hex : hex;
}

function getDiffColor(value) {
  // Clamp the value between -1 and 1
  value = Math.max(-1.0, Math.min(1.0, value));

  // Find the correct color range
  let start, end;
  if (value <= 0) {
    start = palette.diff.blue;
    end = palette.diff.neutral;
    value = value + 1.0; // Normalize to 0.0-1.0
  } else {
    start = palette.diff.neutral;
    end = palette.diff.red;
  }

  // Interpolate between colors
  const r = Math.round(start[0] + (end[0] - start[0]) * value);
  const g = Math.round(start[1] + (end[1] - start[1]) * value);
  const b = Math.round(start[2] + (end[2] - start[2]) * value);

  // Convert to hex
  return `#${r.toString(16).padStart(2, '0')}${g.toString(16).padStart(2, '0')}${b.toString(16).padStart(2, '0')}`;
}

var stacks, tree, levels, depth, minSamplesToShow = 0;

function generateLevelsSimple(levels, node, title, level, x) {
  var left = x;

  levels[level] = levels[level] || [];
  levels[level].push({left: left, width: node.total, color: frameColor(title),
                      title: title});

  left += node.self;

  let children = Object.entries(node.children);
  if (sortByNameRadio.checked)
    children.sort((a, b) => a[0].localeCompare(b[0]));
  else
    children.sort((a, b) => b[1].total - a[1].total);

  for (let i in children) {
    let title = children[i][0];
    let child = children[i][1];
    generateLevelsSimple(levels, child, title, level+1, left);
    left += child.total;
  }
}

function generateLevelsDiffgraph(levels, node, title, level, x) {
  var left = x;

  levels[level] = levels[level] || [];
  var change = (node.total_samples_a == 0) ? 1.0 : node.total_delta / node.total_samples_a;
  var color = getDiffColor(change);
  levels[level].push({left: left, width: node.delta_abs,
                      self_samples_a: node.self_samples_a,
                      self_samples_b: node.self_samples_b,
                      self_delta: node.self_delta,
                      total_samples_a: node.total_samples_a,
                      total_samples_b: node.total_samples_b,
                      total_delta: node.total_delta,
                      color: color,
                      title: title});

  left += Math.abs(node.self_delta);

  let children = Object.entries(node.children);
  if (sortByNameRadio.checked)
    children.sort((a, b) => a[0].localeCompare(b[0]));
  else
    children.sort((a, b) => b[1].delta_abs - a[1].delta_abs);

  for (let i in children) {
    let title = children[i][0];
    let child = children[i][1];
    generateLevelsDiffgraph(levels, child, title, level+1, left);
    left += child.delta_abs;
  }
}

function generateLevels(node, title) {
  console.time("[clj-async-profiler] Generate flat levels");
  levels = [];
  if (isDiffgraph)
    generateLevelsDiffgraph(levels, node, title, 0, 0);
  else
    generateLevelsSimple(levels, node, title, 0, 0);
  console.timeEnd("[clj-async-profiler] Generate flat levels");
}

function recomputeDataModel() {
  console.time("[clj-async-profiler] recomputeDataModel");
  if (isDiffgraph && isNormalized.checked)
    b_scale_factor = totalSamplesA / totalSamplesB;

  stacks = transformStacks();
  tree = makeTreeNode();
  parseStacksToTree(stacks, tree);

  generateLevels(tree, "Total");
  depth = levels.length;
  if (depth > 511) depth = 511;
  console.timeEnd("[clj-async-profiler] recomputeDataModel");
}

function reinitCanvas() {
  canvasHeight = (depth + 1) * 16;
  canvas.style.width = canvasWidth + 'px';
  if (devicePixelRatio) {
    canvas.width = canvasWidth * devicePixelRatio;
    canvas.height = canvasHeight * devicePixelRatio;
    c.scale(devicePixelRatio, devicePixelRatio);
  } else {
    canvas.width = canvasWidth;
    canvas.height = canvasHeight;
  }
  canvas.onclick = canvasOnClick;
  canvas.onmousemove = canvasOnMouseMove;
  canvas.onmouseout = canvasOnMouseOut;
  c.font = document.body.style.font;
}

var highlightState = {
  pattern: null, lastPatternAsText: null
}

var highlightPattern = null, currentRootFrame, currentRootLevel, currentFrameUnderCursor, currentLevelUnderCursor, px;
var totalRenderedFrames = 0;

function applyHighlight(stringOrRegex) {
  let newPattern = _stringToMaybeRegex(stringOrRegex);
  highlightState.pattern = newPattern;
  highlightState.lastPatternAsText = stringOrRegex;
  highlightButton1.classList.add("toggled");
  highlightButton2.classList.add("toggled");
  performSlowAction(function() { render(currentRootFrame, currentRootLevel); });
}

function clearHighlight() {
  highlightState.pattern = null;
  highlightButton1.classList.remove("toggled");
  highlightButton2.classList.remove("toggled");
  render(currentRootFrame, currentRootLevel);
}

function render(newRootFrame, newLevel) {
  var totalRenderedFrames = 0;
  console.time("[clj-async-profiler] Render");
  // Background
  c.clearRect(0, 0, canvas.width, canvas.height);

  currentRootFrame = newRootFrame || levels[0][0];
  currentRootLevel = newLevel || 0;
  px = canvasWidth / currentRootFrame.width;

  const matchedSpans = [];

  function totalMatched() {
    let total = 0;
    let left = 0;
    for (let x in matchedSpans) {
      if (+x >= left) {
        let width = matchedSpans[x];
        total += width;
        left = +x + width;
      }
    }
    return total;
  }

  const x0 = currentRootFrame.left;
  const x1 = x0 + currentRootFrame.width;

  let highlightPattern = highlightState.pattern;

  let lastL = -1;

  function drawFrame(f, y, alpha, h) {
    totalRenderedFrames += 1;
    // if (h == 78) return;
    if (f.left < x1 && f.left + f.width > x0) {
      let color = f.color;
      if (highlightPattern && f.title.match(highlightPattern)) {
        if (!(matchedSpans[f.left] >= f.width))
          matchedSpans[f.left] = f.width;
        color = palette.highlight;
      }

      if (f.width >= minSamplesToShow && y >= 0 && y <= canvasHeight) {
        c.fillStyle = color;
        let w = f.width * px;
        let l = (f.left - x0) * px;
        let newL = Math.floor(l * 8);
        // Optimization to sample the rendering of thin frames.
        if (w < 0.125 && newL <= lastL) return;

        c.fillRect(l, y, w, 15);
        lastL = newL;

        if (w >= 21) {
          const chars = Math.floor((w - 6) / 7);
          const title = f.title.length <= chars ? f.title : f.title.substring(0, chars - 1) + "…";
          c.fillStyle = '#000000';
          c.fillText(title, Math.max(l, 0) + 3, y + 12, w - 6);
        }

        if (alpha) {
          c.fillStyle = 'rgba(255, 255, 255, 0.5)';
          c.fillRect(l, y, w, 15);
        }
      }
    }
  }

  for (let h = 0; h < levels.length; h++) {
    const y = reverseGraph ? h * 16 : canvasHeight - (h + 1) * 16;
    const frames = levels[h];
    lastL = -1;
    if (totalRenderedFrames > 10000000) break;

    // Binary search left bound
    let lo = 0, hi = frames.length;
    let fromIdx = lo, toIdx = hi;
    if (currentRootLevel > 0) {
      while (lo < hi) {
        let mid = Math.floor((lo + hi) / 2);
        let frame = frames[mid];
        if (frame.left + frame.width < x0) lo = mid + 1;
        else hi = mid;
      }
      fromIdx = lo;

      // Binary search right bound
      hi = frames.length;
      while (lo < hi) {
        let mid = Math.floor((lo + hi) / 2);
        if (frames[mid].left < x1) lo = mid + 1;
        else hi = mid;
      }
      toIdx = lo;
    }

    for (let i = fromIdx; i < toIdx; i++) {
      drawFrame(frames[i], y, h < currentRootLevel, h);
    }
  }

  if (highlightPattern != null) {
    matchContainer.style.display = 'inherit';
    matchedLabel.textContent = pct(totalMatched(), currentRootFrame.width) + '%';
  } else
    matchContainer.style.display = 'none';
  console.log("[clj-async-profiler] Total frames rendered:", totalRenderedFrames);
  console.timeEnd("[clj-async-profiler] Render");
}

function round2dig(n) {
  return Math.round(n * 100) / 100;
}

function ratioToPct(n) {
  return ((n > 0) ? "+" : "") + (n * 100).toFixed(2) + "%";
}

function findFrame(frames, x) {
  let left = 0;
  let right = frames.length - 1;

  while (left <= right) {
    const mid = (left + right) >>> 1;
    const f = frames[mid];

    if (f.left > x) {
      right = mid - 1;
    } else if (f.left + f.width <= x) {
      left = mid + 1;
    } else {
      return f;
    }
  }

  if (frames[left] && (frames[left].left - x) * px < 0.5) return frames[left];
  if (frames[right] && (x - (frames[right].left + frames[right].width)) * px < 0.5) return frames[right];

  return null;
}

function samples(n, add_plus, bold) {
  let num = (add_plus && n > 0 ? "+" : "") + n.toString().replace(/\B(?=(\d{3})+(?!\d))/g, ',');
  if (bold) num = '<b>' + num + '</b>';
  return num + (n === 1 ? ' sample' : ' samples');
}

function pct(a, b) {
  let val = a >= b ? '100' : (100 * a / b).toFixed(2);
  return val + '%';
}

function bold(t) {
  return '<b>' + t + '</b>';
}

function canvasOnMouseMove(e) {
  const h = Math.floor((reverseGraph ? event.offsetY : (canvasHeight - event.offsetY)) / 16);
  if (!ctxMenu.shown && h >= 0 && h < levels.length) {
    const f = findFrame(levels[h], event.offsetX / px + currentRootFrame.left);
    if (h === currentLevelUnderCursor && f === currentFrameUnderCursor) return;
    currentLevelUnderCursor = h;
    currentFrameUnderCursor = f;
    if (f && f.width >= minSamplesToShow) {
      hl.style.left = (Math.max(f.left - currentRootFrame.left, 0) * px + canvas.offsetLeft) + 'px';
      hl.style.width = (Math.min(f.width, currentRootFrame.width) * px) + 'px';
      hl.style.top = ((reverseGraph ? h * 16 : canvasHeight - (h + 1) * 16) + canvas.offsetTop) + 'px';
      hl.style.display = 'block';

      tooltipFrameSpan.textContent = f.title;
      let cursor_x  = e.clientX + window.pageXOffset;
      let cursor_y  = e.clientY + window.pageYOffset;
      let tooltip_w = tooltip.clientWidth;
      let tooltip_h = tooltip.clientHeight;
      var tooltip_x = cursor_x;
      var tooltip_y = cursor_y + 20; // Below cursor

      if (cursor_x + tooltip_w > canvas.clientWidth) {
        let overflow_x = cursor_x + tooltip_w - canvas.clientWidth;
        tooltip_x = canvas.clientWidth - tooltip_w;
      }

      if (cursor_y + tooltip_h > canvas.clientHeight - 5) {
        tooltip_y = cursor_y - tooltip_h - 10;
      }

      tooltip.style.left = tooltip_x;
      tooltip.style.top = tooltip_y;
      tooltip.style.display = 'block';
      tooltip.style.animation = 'none';
      tooltip.offsetHeight; /* trigger reflow */
      tooltip.style.animation = null;

      var hoverTipText;
      if (isDiffgraph) {
        var rel_change = (f.total_samples_a == 0) ? 1.0 : f.total_delta / f.total_samples_a;
        var total_change = f.total_delta / tree.total_samples_a;
        tooltipSamplesSpan.innerHTML = samples(f.total_delta, true, true);
        tooltipPctSelfSpan.innerHTML = bold(ratioToPct(rel_change)) + ' self';
        tooltipPctTotalSpan.innerHTML = bold(ratioToPct(total_change)) + ' total';
        hoverTipText = `${f.title}\n(${samples(f.total_delta, true)}, ${ratioToPct(rel_change)} self, ${ratioToPct(total_change)} total)`;
        // , self_samples_a: ${f.self_samples_a}, self_samples_b: ${f.self_samples_b},  self_delta: ${f.self_delta},  total_samples_a: ${f.total_samples_a},  total_samples_b: ${f.total_samples_b}, total_delta: ${f.total_delta})`;
      } else {
        tooltipSamplesSpan.innerHTML = samples(f.width, false, true);
        tooltipPctSelfSpan.innerHTML = bold(pct(f.width, levels[0][0].width)) + ' total';
        hoverTipText = f.title + '\n(' + samples(f.width) + ', ' + pct(f.width, levels[0][0].width) + ')';
      }
      canvas.style.cursor = 'pointer';
      hoverTip.textContent = 'Function: ' + hoverTipText;
      return;
    }
  }
  canvas.onmouseout();
}

function canvasOnClick() {
  if (currentFrameUnderCursor && currentFrameUnderCursor != currentRootFrame) {
    render(currentFrameUnderCursor, currentLevelUnderCursor);
    canvas.onmousemove();
  }
}

function canvasOnMouseOut() {
  hl.style.display = 'none';
  tooltip.style.display = 'none';
  hoverTip.textContent = '\xa0';
  canvas.title = '';
  canvas.style.cursor = '';
  currentLevelUnderCursor = -1;
  currentFrameUnderCursor = null;
}

//// Configuration panel

function performSlowAction(action) {
  spinner.style.display = 'inline-block';
  setTimeout(function() {
    action();
    spinner.style.display = 'none';
  }, 20);
}

function userTransformsSwap(idx1, idx2) {
  const swap = userTransforms[idx1];
  userTransforms[idx1] = userTransforms[idx2];
  userTransforms[idx2] = swap;
}

function addNewTransformParameterized(type, what, replacement) {
  syncTransformsModelWithUI();
  userTransforms.push(_makeTransform(type, true, what, replacement));
  redrawTransformsSection();
}

function addNewTransform(type) {
  addNewTransformParameterized(type, "", "");
}

function onTransformsChanged() {
  redrawTransformsSection();
  performSlowAction(fullRedraw);
}

function onTransformsChangedDontRecreate() {
  syncTransformsModelWithUI();
  performSlowAction(fullRedraw);
}

function deleteTransform(originator) {
  syncTransformsModelWithUI();
  userTransforms.splice(originator.internalId, 1);
  onTransformsChanged();
}

function moveTransformUp(originator) {
  const idx = originator.internalId;
  if (idx == 0) return;
  syncTransformsModelWithUI();
  userTransformsSwap(idx-1, idx);
  onTransformsChanged();
}

function oneByClass(container, classname) {
  return container.getElementsByClassName(classname)[0];
}

function syncTransformsModelWithUI() {
  userTransforms = [];
  for (var i = 0; i < transformsContainer.children.length; i++) {
    let el = transformsContainer.children[i];
    let transformType = el.transformType;
    userTransforms.push(
      _makeTransform(transformType, oneByClass(el, 'chkEnabled').checked,
                     oneByClass(el, 'what').value,
                     transformType == 'replace' ? oneByClass(el, 'replacement').value : null));
  }
}

function redrawTransformsSection() {
  transformsContainer.innerHTML = "";
  for (var i = 0; i < userTransforms.length; i++) {
    const transform = userTransforms[i];
    var newEl = (transform.type == 'replace') ?
        transformReplaceTemplate.cloneNode(true) :
        transformFilterTemplate.cloneNode(true);
    newEl.transformType = transform.type;
    newEl.style = '';
    newEl.internalId = i;
    if (i % 2 == 1)
      newEl.classList.add("xform-odd-block");

    const what = transform.what;
    const whatInput = oneByClass(newEl, 'what');
    if (typeof(what) == 'string')
      whatInput.value = what;
    else
      whatInput.value = what.toString().match(/^(\/.+\/)g?$/)[1];
    addOnEnter(whatInput, onTransformsChangedDontRecreate);

    if (transform.type == 'replace') {
      oneByClass(newEl, 'replacement').value = transform.replacement;
      addOnEnter(oneByClass(newEl, 'replacement'), onTransformsChangedDontRecreate);
    } else if (transform.type == 'remove')
      oneByClass(newEl, 'label').textContent = "Remove";
    oneByClass(newEl, 'chkEnabled').checked = transform.enabled;

    oneByClass(newEl, 'chkEnabled').internalId = i;
    oneByClass(newEl, 'btnMoveUp').internalId = i;
    oneByClass(newEl, 'btnDelete').internalId = i;
    transformsContainer.appendChild(newEl);
  }
}

function smallbarHighlightButtonOnClick() {
  if (highlightState.pattern == null) {
    let userInput = window.prompt("Search string or /regex/", highlightState.lastPatternAsText || "");
    if (userInput != null && userInput != "") {
      highlightInput.value = userInput;
      applyHighlight(userInput);
    }
  } else {
    clearHighlight();
  }
}

function highlightButtonOnClick() {
  let pattern = highlightState.pattern;
  let inputVal = highlightInput.value;
  if (pattern == null) {
    if (inputVal == "") {
      highlightInput.focus();
    } else {
      applyHighlight(inputVal);
    }
  } else {
    if (inputVal == "" || inputVal == highlightState.lastPatternAsText) {
      clearHighlight();
    } else {
      applyHighlight(inputVal);
    }
  }
}

function addOnEnter(obj, f) {
  obj.addEventListener("keypress", function(event) {
    if (event.key === "Enter") {
      event.preventDefault();
      f();
    }
  });
}

addOnEnter(highlightInput, highlightButtonOnClick);

function scrollToTopOrBottom() {
  window.scrollTo(0, reverseGraph ? 0 : document.body.scrollHeight);
}

function inverseOnClick() {
  reverseGraph = !reverseGraph;
  if (reverseGraph) {
    inverseButton1.classList.add("toggled");
    inverseButton2.classList.add("toggled");
  } else {
    inverseButton1.classList.remove("toggled");
    inverseButton2.classList.remove("toggled");
  }
  performSlowAction(function() { fullRedraw(true); });
}

function sortRadioChange() {
  performSlowAction(fullRedraw);
}

function fullRedraw(doScroll) {
  console.time("[clj-async-profiler] Full redraw");
  syncTransformsModelWithUI();
  recomputeDataModel();
  reinitCanvas();
  render();
  if (doScroll) scrollToTopOrBottom();
  console.timeEnd("[clj-async-profiler] Full redraw");
}

function setSidebarVisibility(isVisible) {
  sidebarVisible = isVisible;
  updateSidebarState();
  reinitCanvas();
  render(currentRootFrame, currentRootLevel);
}

// Context menu implementation was taken from https://github.com/heapoverride/context-js
// and modified to suit our needs. Licensed Under MIT License, author: @UnrealSec
class ContextMenu {
  constructor(container, items) {
    this.container = container;
    this.dom = null;
    this.shown = false;
    this.root = true;
    this.items = items;
    this._onclick = e => {
      if (this.dom && e.target != this.dom &&
          e.target.parentElement != this.dom &&
          !e.target.classList.contains('item') &&
          !e.target.parentElement.classList.contains('item')) {
        this.hide();
      }
    };
    this._oncontextmenu = e => {
      if (e.target != this.dom &&
          e.target.parentElement != this.dom &&
          !e.target.classList.contains('item') &&
          !e.target.parentElement.classList.contains('item') &&
          currentFrameUnderCursor) {
        e.preventDefault();
        tooltipRightClickHint.style.display = 'none';
        this.hide();
        this.frame = currentFrameUnderCursor;
        this.show(e.clientX, e.clientY);
      }
    };
    this._oncontextmenu_keydown = e => {
      if (e.keyCode == 27) {
        this.hideAll();
        return;
      }
      if (e.keyCode != 93) return;
      e.preventDefault();

      this.hideAll();
      this.show(e.clientX, e.clientY);
    };


    this._onblur = e => { this.hide(); };
  }
  getMenuDom() {
    const menu = document.createElement('div');
    menu.classList.add('context');
    for (const item of this.items)
      menu.appendChild(this.itemToDomEl(item));
    return menu;
  }
  itemToDomEl(data) {
    const item = document.createElement('div');
    if (data === null) {
      item.classList = 'separator';
      return item;
    }
    if (data.hasOwnProperty('color') && /^#([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(data.color.toString())) {
      item.style.cssText = `color: ${data.color}`;
    }
    item.classList.add('item');

    const label = document.createElement('span');
    label.classList = 'label';
    label.innerText = data.hasOwnProperty('text') ? data['text'].toString() : '';
    item.appendChild(label);

    if (data.hasOwnProperty('disabled') && data['disabled'])
      item.classList.add('disabled');
    else
      item.classList.add('enabled');

    item.addEventListener('click', e => {
      if (item.classList.contains('disabled')) return;
      if (data.hasOwnProperty('onclick') && typeof data['onclick'] === 'function') {
        const event = {handled: false, item: item, label: label, items: this.items, data: data};
        data['onclick'](event, this.frame);
        if (!event.handled)
          this.hide();
      } else {
        this.hide();
      }
    });
    return item;
  }
  hide() {
    if (this.dom && this.shown) {
      this.shown = false;
      this.container.removeChild(this.dom);
    }
  }
  show(x, y) {
    this.dom = this.getMenuDom();
    this.dom.style.visibility = 'hidden';
    this.dom.style.left = `${x}px`;
    this.dom.style.top = `${y}px`;
    this.shown = true;
    this.container.appendChild(this.dom);

    if (this.dom.offsetWidth + x > document.body.clientWidth)
      this.dom.style.left = `${x-this.dom.offsetWidth}px`;
    if (this.dom.offsetHeight + y > document.body.clientHeight)
      this.dom.style.top = `${y-this.dom.offsetHeight}px`;
    this.dom.style.visibility = 'visible';
  }

  install() {
    this.container.addEventListener('contextmenu', this._oncontextmenu, false);
    this.container.addEventListener('keydown', this._oncontextmenu_keydown);
    this.container.addEventListener('click', this._onclick);
    document.addEventListener('keydown', (event) => {
      if (event.keyCode == 27) this.hide();
    });
    window.addEventListener('blur', this._onblur);
  }
}

function escapeRegex(regexString) {
  return regexString.replace(/[.*+?^${}()|[\]\\]/g, '\\$&');
}

function menuHighlight(e, frame) {
  let rx = escapeRegex(frame.title);
  highlightInput.value = "/^" + rx + "$/";
  applyHighlight(highlightInput.value);
}

function menuCopyAsText(e, frame) {
  navigator.clipboard.writeText(frame.title);
}

function menuCopyAsRegex(e, frame) {
  let rx = escapeRegex(frame.title);
  navigator.clipboard.writeText(rx);
}

function menuFilterContaining(e, frame) {
  addNewTransformParameterized('filter', ";" + frame.title + ";", "");
  onTransformsChanged();
}

function menuRemoveContaining(e, frame) {
  addNewTransformParameterized('remove', ";" + frame.title + ";", "");
  onTransformsChanged();
}

function menuHideFramesAbove(e, frame) {
  let rx = escapeRegex(frame.title);
  addNewTransformParameterized('replace', "/(;" + rx + ";).*/", "$1");
  onTransformsChanged();
}

function menuHideFramesBelow(e, frame) {
  let rx = escapeRegex(frame.title);
  addNewTransformParameterized('replace', "/.+(" + rx + ";)/", ";$1");
  onTransformsChanged();
}

function menuCollapseRecursive(e, frame) {
  let rx = escapeRegex(frame.title);
  addNewTransformParameterized('replace', "/;(" + rx + ";)+/", ";$1");
  onTransformsChanged();
}

function menuCollapseRecursiveWithGaps(e, frame) {
  let rx = escapeRegex(frame.title);
  addNewTransformParameterized('replace', "/;(" + rx + ";).*\\1/", ";$1");
  onTransformsChanged();
}

const ctxMenuData = [
  {text: 'Highlight', onclick: menuHighlight },
  {text: 'Copy as text', onclick: menuCopyAsText },
  {text: 'Copy as regex', onclick: menuCopyAsRegex },
  null,
  {text: 'Filter containing stacks', onclick: menuFilterContaining },
  {text: 'Remove containing stacks', onclick: menuRemoveContaining },
  {text: 'Hide frames above', onclick: menuHideFramesAbove },
  {text: 'Hide frames below', onclick: menuHideFramesBelow },
  null,
  {text: 'Collapse recursive', onclick: menuCollapseRecursive },
  {text: 'Collapse recursive (with gaps)', onclick: menuCollapseRecursiveWithGaps},
];

const ctxMenu = new ContextMenu(document.getElementById('canvasDiv'), ctxMenuData);
ctxMenu.install();

//// "Data" is inserted here

console.time("[clj-async-profiler] Data load/eval");

var idToFrame = ["[deoptimization]",
"Deoptimization::fetch_unroll_info",
"Deoptimization::fetch_unroll_info_helper",
"Deoptimization::create_vframeArray",
"vframeArray::allocate",
"vframeArrayElement::fill_in",
"compiledVFrame::locals",
"tlv_get_addr",
"Deoptimization::uncommon_trap",
"Deoptimization::query_update_method_data",
"[unknown_Java]",
"I2C/C2I adapters",
"ZThread::~ZThread",
"_new_array_Java",
"OptoRuntime::new_array_C",
"pthread_jit_write_protect_np",
"_new_array_nozero_Java",
"OptoRuntime::new_array_nozero_C",
"_new_instance_Java",
"OptoRuntime::new_instance_C",
"nrepl.SessionThread.run",
"nrepl.middleware.session/session-exec/session-loop--",
"nrepl.middleware.interruptible-eval/evaluator/run--",
"nrepl.middleware.interruptible-eval/evaluator/run--/fn--",
"clojure.lang.Compiler.eval",
"clj-async-profiler.core/eval",
"clj-async-profiler.core/start",
"clj-async-profiler.core/attach-agent",
"clj-async-profiler.util/load-agent-path",
"sun.tools.attach.HotSpotVirtualMachine.loadAgentPath",
"sun.tools.attach.HotSpotVirtualMachine.loadAgentLibrary",
"sun.tools.attach.VirtualMachineImpl.execute",
"sun.tools.attach.HotSpotVirtualMachine.processCompletionStatus",
"sun.tools.attach.HotSpotVirtualMachine.readInt",
"InterpreterRuntime::resolve_from_cache",
"InterpreterRuntime::resolve_invoke",
"LinkResolver::resolve_invoke",
"LinkInfo::LinkInfo",
"methodHandle::~methodHandle",
"user/eval",
"clj-async-profiler.core/stop",
"clj-async-profiler.core/status",
"LinkResolver::resolve_interface_call",
"LinkResolver::resolve_interface_method",
"LinkResolver::check_method_loader_constraints",
"SystemDictionary::check_signature_loaders",
"SystemDictionary::add_loader_constraint",
"LoaderConstraintTable::add_entry",
"LoaderConstraintTable::find_loader_constraint",
"java.io.InputStreamReader.<init>",
"sun.nio.cs.StreamDecoder.forInputStreamReader",
"sun.nio.cs.StreamDecoder.<init>",
"java.nio.ByteBuffer.allocate",
"java.nio.HeapByteBuffer.<init>",
"java.nio.ByteBuffer.<init>",
"java.nio.Buffer.<init>",
"java.nio.ByteBuffer.limit",
"sun.nio.cs.UTF_8.newDecoder",
"sun.nio.cs.UTF_8$Decoder.<init>",
"java.nio.charset.CharsetDecoder.<init>",
"SharedRuntime::resolve_opt_virtual_call_C",
"SharedRuntime::resolve_helper",
"SharedRuntime::resolve_sub_helper",
"SharedRuntime::resolve_sub_helper_internal",
"nmethod::call_wrapper_at",
"clojure.lang.RestFn.invoke",
"clojure.core/merge",
"clojure.core/reduce1",
"BarrierSetNMethod::nmethod_stub_entry_barrier",
"BarrierSetNMethod::nmethod_entry_barrier",
"BarrierSetNMethod::set_guard_value",
"NativeNMethodBarrier::NativeNMethodBarrier",
"clojure.core/reduce",
"clojure.lang.LongRange.reduce",
"InstanceKlass::allocate_instance",
"MemAllocator::allocate",
"ObjAllocator::initialize",
"clojure.core/*'",
"clojure.lang.Numbers.multiplyP",
"clojure.lang.Numbers$LongOps.multiplyP",
"clojure.lang.Numbers$BigIntOps.multiply",
"frame::interpreter_callee_receiver",
"ArgumentSizeComputer::ArgumentSizeComputer",
"void SignatureIterator::do_parameters_on<ArgumentSizeComputer>",
"SignatureStream::next",
"clojure.lang.Numbers.num",
"CollectedHeap::array_allocate",
"zero_blocks",
"clojure.lang.Numbers$OpsP.multiplyP",
"clojure.lang.BigInt.multiply",
"clojure.lang.BigInt.fromBigInteger",
"java.math.BigInteger.bitLength",
"clojure.lang.BigInt.toBigInteger",
"java.math.BigInteger.valueOf",
"java.math.BigInteger.<init>",
"forward_copy_longs",
"jint_disjoint_arraycopy",
"java.math.BigInteger.multiply",
"java.math.BigInteger.multiplyByInt",
"InterpreterRuntime::frequency_counter_overflow",
"BarrierSetNMethod::nmethod_osr_entry_barrier",
"BarrierSetNMethod::guard_value",
"_platform_memset",
"java.math.BigInteger.shiftLeft",
"java.math.BigInteger.shiftLeftImplWorker",
"clojure.lang.Numbers.toBigInt",
"clojure.lang.BigInt.fromLong",
"clojure.core/+'",
"clojure.lang.Numbers.addP",
"clojure.lang.Numbers$LongOps.addP",
"java.lang.Long.valueOf",
"MemAllocator::mem_allocate_inside_tlab_slow",
"ThreadLocalAllocBuffer::fill",
"ThreadLocalAllocBuffer::print_stats",
"java.lang.Long.<init>",
"java.lang.Long.longValue",
"clojure.core//",
"clojure.lang.Numbers.divide",
"clojure.lang.Numbers$LongOps.divide",
"clojure.lang.Ratio.<init>",
"arrayof_jlong_disjoint_arraycopy",
"clojure.lang.Numbers$RatioOps.divide",
"java.math.BigInteger.divide",
"java.math.BigInteger.divideKnuth",
"G1CollectedHeap::attempt_allocation",
"G1CollectedHeap::attempt_allocation_slow",
"G1CollectedHeap::new_mutator_alloc_region",
"java.math.MutableBigInteger.<init>",
"java.math.MutableBigInteger.divideKnuth",
"java.math.MutableBigInteger.compare",
"java.math.MutableBigInteger.divideOneWord",
"Runtime1::counter_overflow",
"CompilationPolicy::event",
"CompilationPolicy::method_back_branch_event",
"Method::invocation_count",
"java.math.MutableBigInteger.toBigInteger",
"CompileBroker::compile_method",
"CompileBroker::compile_method_base",
"__psynch_cvbroad",
"java.math.BigInteger.equals",
"java.math.BigInteger.gcd",
"InterpreterRuntime::_new",
"ConstantPool::klass_at_impl",
"SystemDictionary::resolve_or_fail",
"SystemDictionary::resolve_instance_class_or_null",
"SystemDictionary::load_instance_class",
"SystemDictionary::load_instance_class_impl",
"ClassLoader::load_class",
"KlassFactory::create_from_stream",
"ClassFileParser::ClassFileParser",
"ClassFileParser::parse_stream",
"ClassFileParser::parse_constant_pool",
"ClassFileParser::parse_constant_pool_entries",
"java.util.Arrays.copyOf",
"java.lang.Object.clone",
"JVM_Clone",
"AccessInternal::PostRuntimeDispatch<G1BarrierSet::AccessBarrier<270432ull, G1BarrierSet>, (AccessInternal::BarrierType)9, 270432ull>::access_barrier",
"_Copy_conjoint_jlongs_atomic",
"java.math.MutableBigInteger.hybridGCD",
"java.math.MutableBigInteger.divide",
"java.util.Arrays.copyOfRange",
"clojure.lang.Numbers.toRatio",
"clojure.lang.Numbers.toBigInteger",
"clojure.lang.Numbers.ops",
"itable stub",
"clojure.lang.Compiler.load",
"java.lang.StringBuilder.toString",
"java.lang.String.<init>",
"thread_start",
"_pthread_start",
"thread_native_entry",
"Thread::call_run",
"ConcurrentGCThread::run",
"G1ConcurrentRefineThread::run_service",
"G1ConcurrentRefine::record_thread_adjustment_needed",
"G1PrimaryConcurrentRefineThread::do_refinement_step",
"G1ConcurrentRefine::adjust_threads_periodically",
"G1CollectionSet::iterate",
"G1ConcurrentRefine::RemSetSamplingClosure::do_heap_region",
"G1CardSet::occupied",
"G1Policy::revise_young_list_target_length",
"G1Policy::calculate_young_desired_length",
"G1Policy::calculate_desired_eden_length_by_pause",
"G1YoungLengthPredictor::will_fit",
"G1Policy::predict_base_time_ms",
"G1Analytics::predict_scan_card_num",
"G1PhaseDependentSeq::predict",
"G1Policy::predict_retained_regions_evac_time",
"G1PrimaryConcurrentRefineThread::wait_for_completed_buffers",
"Monitor::wait_without_safepoint_check",
"PlatformMonitor::wait",
"__psynch_cvwait",
"G1ServiceThread::run_service",
"G1ServiceThread::run_task",
"G1UncommitRegionTask::execute",
"HeapRegionManager::uncommit_inactive_regions",
"HeapRegionManager::uncommit_regions",
"G1RegionsLargerThanCommitSizeMapper::uncommit_regions",
"G1PageBasedVirtualSpace::uncommit",
"os::pd_uncommit_memory",
"__mmap",
"G1ServiceThread::wait_for_task",
"_pthread_cond_wait",
"cerror_nocancel",
"JavaThread::thread_main_inner",
"CompileBroker::compiler_thread_loop",
"CompileBroker::invoke_compiler_on_method",
"C2Compiler::compile_method",
"Compile::Compile",
"Compile::Code_Gen",
"Matcher::match",
"Arena::contains",
"Matcher::find_shared",
"HaltNode::Opcode",
"IfFalseNode::Opcode",
"Matcher::pd_clone_node",
"is_valid_sve_arith_imm_pattern",
"Matcher::xform",
"CmpPNode::Opcode",
"Matcher::match_tree",
"Matcher::Label_Root",
"AddPNode::bottom_type",
"Arena::grow",
"State::DFA",
"State::_sub_Op_ConP",
"State::_sub_Op_ConI",
"Assembler::operand_valid_for_logical_immediate",
"encoding_for_logical_immediate",
"bsearch",
"Matcher::ReduceInst",
"Matcher::ReduceInst_Interior",
"encodeHeapOopNode::Expand",
"Matcher::ReduceInst_Chain_Rule",
"Node::match_edge",
"State::MachNodeGenerator",
"Node::out_grow",
"_platform_memmove",
"Node::size_of",
"ParmNode::Opcode",
"PhaseBlockLayout::PhaseBlockLayout",
"PhaseBlockLayout::find_edges",
"ShouldNotReachHereNode::is_block_proj",
"PhaseBlockLayout::merge_traces",
"PhaseCFG::do_global_code_motion",
"PhaseCFG::build_dominator_tree",
"PhaseCFG::do_DFS",
"PhaseCFG::estimate_block_frequency",
"CFGLoop::scale_freq",
"PhaseCFG::global_code_motion",
"CProjNode::is_block_proj",
"Node::latency",
"Node_Backward_Iterator::next",
"PhaseCFG::partial_latency_of_defs",
"cmpP_imm0_branchNode::pipeline",
"PhaseCFG::schedule_late",
"PhaseCFG::hoist_to_cheaper_block",
"CallStaticJavaDirectNode::oper_input_base",
"decodeHeapOopNode::pipeline",
"PhaseCFG::insert_anti_dependences",
"PhaseCFG::schedule_node_into_block",
"PhaseCFG::schedule_local",
"Node::is_iteratively_computed",
"PhaseCFG::sched_call",
"PhaseCFG::select",
"loadConLNode::ideal_Opcode",
"ProjNode::pinned",
"RegionNode::pinned",
"branchConUNode::pinned",
"branchNode::pinned",
"PhaseChaitin::Register_Allocate",
"CProjNode::out_RegMask",
"Chunk::next_chop",
"Chunk::chop",
"medium_free_list_find_by_ptr",
"MergeMemNode::out_RegMask",
"PhaseAggressiveCoalesce::insert_copies",
"PhaseChaitin::Select",
"IndexSetIterator::advance_and_next",
"PhaseChaitin::bias_color",
"PhaseIFG::re_insert",
"PhaseChaitin::Simplify",
"PhaseIFG::remove_node",
"PhaseChaitin::Split",
"MachNode::rematerialize",
"Matcher::int_pressure_limit",
"Node::rematerialize",
"Node_Array::insert",
"PhaseChaitin::split_DEF",
"PhaseChaitin::get_spillcopy_wide",
"PhaseChaitin::build_ifg_physical",
"Compile::TracePhase::TracePhase",
"IndexSet::IndexSet",
"MachNode::Opcode",
"PhaseChaitin::remove_bound_register_from_interfering_live_ranges",
"loadConNKlassNode::rule",
"PhaseChaitin::build_ifg_virtual",
"PhaseChaitin::gather_lrg_masks",
"MachOper::num_edges",
"MachProjNode::bottom_type",
"MachTypeNode::bottom_type",
"cmpOpLtGeOper::num_edges",
"PhaseChaitin::merge_multidefs",
"PhaseChaitin::possibly_merge_multidef",
"PhaseChaitin::post_allocate_copy_removal",
"PhaseChaitin::elide_copy",
"iRegINoSpOper::type",
"PhaseChaitin::stretch_base_pointer_live_ranges",
"PhaseCoalesce::coalesce_driver",
"PhaseAggressiveCoalesce::coalesce",
"PhaseCoalesce::combine_these_two",
"PhaseIFG::Union",
"PhaseIFG::Compute_Effective_Degree",
"PhaseIFG::effective_degree",
"PhaseIFG::SquareUp",
"PhaseIFG::init",
"PhaseLive::compute",
"PhaseLive::add_liveout",
"RegMask::is_bound",
"compI_reg_regNode::out_RegMask",
"iRegPOper::in_RegMask",
"loadRangeNode::oper_input_base",
"rFlagsRegUOper::in_RegMask",
"PhaseOutput::Output",
"PhaseOutput::BuildOopMaps",
"PhaseOutput::fill_buffer",
"CallStaticJavaDirectNode::emit",
"MacroAssembler::trampoline_call",
"MachSpillCopyNode::implementation",
"MacroAssembler::spill",
"MacroAssembler::spill_address",
"NonSafepointEmitter::observe_instruction",
"NonSafepointEmitter::emit_non_safepoint",
"DebugInformationRecorder::describe_scope",
"PhaseOutput::Process_OopMap_Node",
"DebugInformationRecorder::create_scope_values",
"DebugInformationRecorder::serialize_scope_values",
"DIR_Chunk* GrowableArrayWithAllocator<DIR_Chunk*, GrowableArray<DIR_Chunk*>>::insert_sorted<&DIR_Chunk::compare(DIR_Chunk* const&, DIR_Chunk* const&)>",
"JVMState::of_depth",
"PhaseOutput::FillLocArray",
"resource_allocate_bytes",
"storeimmI0Node::emit",
"MacroAssembler::legitimize_address",
"PhaseOutput::shorten_branches",
"PhaseOutput::scratch_emit_size",
"Scheduling::DoScheduling",
"Scheduling::AddNodeToBundle",
"Scheduling::ComputeRegisterAntidependencies",
"Scheduling::ComputeUseCount",
"loadConINode::ideal_Opcode",
"PhaseOutput::install_code",
"ciEnv::register_method",
"nmethod::new_nmethod",
"Method::is_method",
"nmethod::nmethod",
"CodeBuffer::copy_code_to",
"CodeBuffer::relocate_code_to",
"CallRelocation::fix_relocation_after_move",
"Relocation::pd_call_destination",
"trampoline_stub_Relocation::get_trampoline_for",
"Relocation::pd_set_call_destination",
"RelocIterator::set_limits",
"nmethod::post_compiled_method",
"branchNode::is_block_proj",
"Compile::Optimize",
"CallGenerator::do_late_inline_helper",
"ParseGenerator::generate",
"Parse::Parse",
"Parse::do_all_blocks",
"Parse::do_one_block",
"Parse::do_call",
"Compile::call_generator",
"InlineTree::ok_to_inline",
"ciMethod::get_flow_analysis",
"ciTypeFlow::do_flow",
"ciTypeFlow::flow_types",
"ciTypeFlow::df_flow_types",
"ciTypeFlow::flow_block",
"ciTypeFlow::StateVector::apply_one_bytecode",
"ciTypeFlow::StateVector::do_invoke",
"ciBytecodeStream::get_method",
"ciEnv::get_method_by_index_impl",
"ConstantPool::signature_ref_index_at",
"Compile::final_graph_reshaping",
"Compile::final_graph_reshaping_walk",
"Compile::final_graph_reshaping_impl",
"Compile::final_graph_reshaping_main_switch",
"Compile::inline_incrementally_cleanup",
"PhaseIterGVN::optimize",
"PhaseIterGVN::transform_old",
"RegionNode::Ideal",
"PhaseRemoveUseless::PhaseRemoveUseless",
"Compile::identify_useful_nodes",
"Compile::optimize_loops",
"PhaseIdealLoop::optimize",
"PhaseIdealLoop::PhaseIdealLoop",
"PhaseIdealLoop::build_and_optimize",
"IdealLoopTree::counted_loop",
"OuterStripMinedLoopEndNode::Opcode",
"IdealLoopTree::iteration_split",
"IdealLoopTree::iteration_split_impl",
"PhaseIdealLoop::insert_pre_post_loops",
"PhaseIdealLoop::insert_post_loop",
"PhaseIdealLoop::clone_loop",
"LoadNode::size_of",
"CmpINode::Opcode",
"IdealLoopTree::loop_predication",
"PhaseIdealLoop::loop_predication_impl",
"PhaseIdealLoop::loop_predication_impl_helper",
"Invariance::compute_invariance",
"Invariance::visit",
"IdealLoopTree::is_invariant",
"PhaseIdealLoop::has_ctrl",
"Node_Array::operator[]",
"PhaseIdealLoop::loop_predication_follow_branches",
"PhaseIdealLoop::is_dominator",
"IfNode::pinned",
"NTarjan::COMPRESS",
"Node::is_CFG",
"Node::pinned",
"PhaseIdealLoop::Dominators",
"medium_free_list_add_ptr",
"NTarjan::DFS",
"RegionNode::is_CFG",
"PhaseIdealLoop::build_loop_early",
"ParmNode::is_CFG",
"PhaseIdealLoop::get_early_ctrl",
"PhaseIdealLoop::build_loop_late",
"PhaseIdealLoop::build_loop_late_post_work",
"InitializeNode::Opcode",
"PhaseIdealLoop::compute_lca_of_uses",
"PhaseIdealLoop::dom_lca_for_get_late_ctrl_internal",
"PhaseIdealLoop::get_late_ctrl_with_anti_dep",
"MemNode::adr_type",
"TypeInstPtr::add_offset",
"Type::hashcons",
"Dict::Insert",
"Type::cmp",
"TypeInstPtr::eq",
"TypeInterfaces::eq",
"ProjNode::is_uncommon_trap_proj",
"Node::unique_ctrl_out_or_null",
"PhaseIdealLoop::eliminate_useless_template_assertion_predicates",
"PhaseIdealLoop::collect_useful_template_assertion_predicates",
"PhaseIdealLoop::get_assertion_predicates",
"PhaseIdealLoop::assertion_predicate_has_loop_opaque_node",
"PhaseIdealLoop::count_opaque_loop_nodes",
"Unique_Node_List::push",
"Node_Array::grow",
"Arena::Arealloc",
"PhaseIdealLoop::split_if_with_blocks",
"PhaseIdealLoop::split_if_with_blocks_post",
"PhaseIdealLoop::identical_backtoback_ifs",
"PhaseIdealLoop::try_sink_out_of_loop",
"PhaseIdealLoop::compute_early_ctrl",
"PhaseIdealLoop::ctrl_of_all_uses_out_of_loop",
"PhaseIdealLoop::ctrl_of_use_out_of_loop",
"PhaseIdealLoop::split_if_with_blocks_pre",
"PhaseIdealLoop::split_thru_phi",
"RangeCheckNode::Opcode",
"SuperWord::SLP_extract",
"SuperWord::construct_bb",
"SuperWord::find_adjacent_refs",
"SuperWord::are_adjacent_refs",
"VPointer::VPointer",
"VPointer::scaled_iv_plus_offset",
"VPointer::offset_plus_k",
"NodeHash::hash_find_insert",
"CallStaticJavaNode::Ideal",
"Node::remove_dead_region",
"Node::set_req",
"PhiNode::Ideal",
"PhiNode::is_data_loop",
"PhiNode::is_unsafe_data_reference",
"Compile::process_for_post_loop_opts_igvn",
"PhaseIterGVN::remove_globally_dead_node",
"ThreadCritical::ThreadCritical",
"_pthread_mutex_firstfit_lock_slow",
"__psynch_mutexwait",
"Node::replace_edge",
"Node::set_req_X",
"Node::has_special_unique_user",
"HaltNode::Ideal",
"LoadNode::Ideal",
"MemNode::Ideal_common",
"TypeAryPtr::add_offset",
"TypeAryPtr::make",
"TypeAryPtr::TypeAryPtr",
"Compile::remove_speculative_types",
"PhaseIterGVN::remove_speculative_types",
"TypeInstPtr::remove_speculative",
"ConnectionGraph::do_analysis",
"ConnectionGraph::compute_escape",
"ConnectionGraph::complete_connection_graph",
"ConnectionGraph::add_java_object_edges",
"ConnectionGraph::add_base",
"GrowableArrayWithAllocator<PointsToNode*, GrowableArray<PointsToNode*>>::expand_to",
"ConnectionGraph::has_ea_local_in_scope",
"ConnectionGraph::split_unique_types",
"ConnectionGraph::find_inst_mem",
"ConnectionGraph::split_memory_phi",
"ConnectionGraph::create_split_phi",
"MergeMemNode::memory_at",
"MergeMemNode::set_memory_at",
"Node::add_req",
"ChunkPool::allocate_chunk",
"NodeHash::hash_delete",
"PhiNode::hash",
"TypePtr::hash",
"PhaseIterGVN::add_users_to_worklist",
"PhaseIterGVN::add_users_of_use_to_worklist",
"PhaseCCP::PhaseCCP",
"PhaseCCP::analyze",
"AddNode::Value",
"AddNode::add_of_identity",
"IfNode::Value",
"PhaseCCP::fetch_next_node",
"PhaseCCP::push_child_nodes_to_worklist",
"PhaseCCP::push_loadp",
"PhaseCCP::push_more_uses",
"CastP2XNode::Opcode",
"CatchProjNode::Opcode",
"PhaseCCP::push_cmpu",
"ProjNode::Opcode",
"TypeAryPtr::eq",
"TypeInstPtr::make",
"PhaseCCP::do_transform",
"PhaseCCP::transform",
"Compile::disconnect_useless_nodes",
"PhaseCCP::transform_once",
"RegionNode::Opcode",
"CProjNode::is_CFG",
"GrowableArrayWithAllocator<long, GrowableArray<long>>::expand_to",
"PhaseIdealLoop::replace_parallel_iv",
"LoopNode::is_valid_counted_loop",
"BaseCountedLoopNode::incr",
"BaseCountedLoopNode::loopexit_or_null",
"Node::in",
"PhaseIdealLoop::is_counted_loop",
"BaseCountedLoopNode::phi",
"CountedLoopEndNode::bt",
"PhaseIdealLoop::lazy_replace",
"PhaseIterGVN::subsume_node",
"PhaseIdealLoop::do_unroll",
"PhaseIdealLoop::fix_body_edges",
"MultiNode::is_CFG",
"CallLeafNode::Opcode",
"TypeNode::bottom_type",
"TypeInstPtr::hash",
"ProjNode::is_uncommon_trap_if_pattern",
"PhaseIdealLoop::build_loop_tree",
"PhaseIdealLoop::do_split_if",
"Node::del_req",
"Unique_Node_List::remove",
"PhaseIdealLoop::try_merge_identical_ifs",
"PhaseIdealLoop::dominated_by",
"PhaseValues::makecon",
"PhaseValues::uncached_makecon",
"Node::destruct",
"_platform_strcmp",
"PhiNode::pinned",
"BarrierSetC2::has_load_barrier_nodes",
"RegionNode::is_unreachable_region",
"ProjNode::is_CFG",
"RegionNode::is_unreachable_from_root",
"StoreNode::Ideal",
"InitializeNode::can_capture_store",
"InitializeNode::detect_init_independence",
"MemNode::all_controls_dominate",
"Node::dominates",
"StoreNode::hash",
"PhaseIterGVN::PhaseIterGVN",
"AddINode::Opcode",
"ConstraintCastNode::Value",
"TypeOopPtr::filter_helper",
"TypePtr::xmeet",
"TypeAryPtr::xmeet_helper",
"IfNode::Ideal",
"IfNode::Ideal_common",
"LoadBNode::Value",
"MemNode::can_see_stored_value",
"AddPNode::Ideal_base_and_offset",
"MemNode::find_previous_store",
"LoadNode::Identity",
"LoadRangeNode::Identity",
"AllocateNode::Ideal_allocation",
"MergeMemNode::Ideal",
"MultiNode::hash",
"BoolNode::hash",
"CatchProjNode::hash",
"ConstraintCastNode::hash",
"TypeNode::hash",
"PhaseIterGVN::rehash_node_delayed",
"PhiNode::Opcode",
"MergeMemNode::Identity",
"PhiNode::Value",
"Type::meet_helper",
"TypeInstPtr::xmeet_helper",
"TypePtr::MeetResult TypePtr::meet_instptr<TypeInstPtr>",
"TypeOopPtr::klass_is_exact",
"ProjNode::Value",
"RangeCheckNode::Ideal",
"PhiNode::simple_data_loop_check",
"Node::is_dead_loop_safe",
"StoreNode::Identity",
"TypeInt::make",
"PhaseMacroExpand::eliminate_macro_nodes",
"PhaseMacroExpand::eliminate_allocate_node",
"PhaseMacroExpand::process_users_of_allocation",
"PhaseMacroExpand::scalar_replacement",
"PhaseMacroExpand::create_scalarized_object_description",
"PhaseMacroExpand::value_from_mem",
"PhaseMacroExpand::value_from_mem_phi",
"PhaseMacroExpand::expand_macro_nodes",
"BoolNode::Ideal",
"ClearArrayNode::Ideal",
"TypeRawPtr::add_offset",
"TypeOopPtr::TypeOopPtr",
"ciInstanceKlass::is_instance_klass",
"PhiNode::Identity",
"ciBaseObject::ident",
"TypeInteger::get_con_as_long",
"PhaseMacroExpand::expand_allocate_common",
"PhaseMacroExpand::initialize_object",
"InitializeNode::complete_stores",
"InitializeNode::remove_extra_zeroes",
"PhaseMacroExpand::expand_subtypecheck_node",
"PhaseRenumberLive::PhaseRenumberLive",
"Compile::update_dead_node_list",
"PhaseRenumberLive::update_embedded_ids",
"ciMethod::get_method_at_bci",
"ciObjectFactory::get_symbol",
"GraphKit::record_profiled_arguments_for_speculation",
"TypeFunc::make",
"TypeTuple::make_domain",
"GraphKit::kill_dead_locals",
"ciMethod::liveness_at_bci",
"MethodLiveness::compute_liveness",
"MethodLiveness::BasicBlock::compute_gen_kill_range",
"PredictedCallGenerator::generate",
"Parse::do_if",
"Parse::adjust_map_after_if",
"GraphKit::uncommon_trap",
"PhaseValues::intcon",
"Parse::do_field_access",
"Parse::do_put_xxx",
"GraphKit::access_store_at",
"BarrierSetC2::store_at",
"ModRefBarrierSetC2::store_at_resolved",
"BarrierSetC2::store_at_resolved",
"GraphKit::store_to_memory",
"PhaseGVN::transform_no_reclaim",
"Parse::do_one_bytecode",
"GraphKit::null_check_common",
"BuildCutout::BuildCutout",
"GraphKit::clone_map",
"Node::clone",
"Parse::return_current",
"Parse::call_register_finalizer",
"GraphKit::make_load",
"TypeInstKlassPtr::eq",
"PhiNode::slice_memory",
"Parse::do_exits",
"Parse::array_load",
"Parse::array_addressing",
"GraphKit::array_element_address",
"AddPNode::Identity",
"Parse::do_get_xxx",
"GraphKit::access_load_at",
"BarrierSetC2::load_at",
"BarrierSetC2::load_at_resolved",
"Compile::too_many_traps",
"Node::Node",
"LibraryIntrinsic::generate",
"LibraryCallKit::LibraryCallKit",
"ciEnv::lookup_method",
"LinkResolver::resolve_static_call_or_null",
"LinkResolver::resolve_static_call",
"LinkResolver::linktime_resolve_static_method",
"GraphKit::type_check_receiver",
"GraphKit::load_object_klass",
"LoadKlassNode::make",
"LoadNKlassNode::Identity",
"LoadNode::klass_identity_common",
"Parse::do_exceptions",
"Parse::throw_to_exit",
"GraphKit::combine_exception_states",
"ciTypeFlow::map_blocks",
"GraphKit::cast_not_null",
"TypeInstKlassPtr::hash",
"Type::hash",
"Parse::do_checkcast",
"GraphKit::gen_checkcast",
"GraphKit::maybe_cast_profiled_receiver",
"SafePointNode::bottom_type",
"TypeOopPtr::make_from_klass_common",
"TypeInterfaces::hash",
"TypePtr::interfaces",
"ciInstanceKlass::transitive_interfaces",
"ciInstanceKlass::compute_transitive_interfaces",
"ciObjectFactory::get_metadata",
"Klass::is_klass",
"Compiler::compile_method",
"Compilation::Compilation",
"Compilation::compile_method",
"Compilation::compile_java_method",
"Compilation::build_hir",
"GlobalValueNumbering::GlobalValueNumbering",
"BlockBegin::iterate_preorder",
"SubstitutionResolver::block_do",
"ValueStack::values_do",
"IR::IR",
"IRScope::IRScope",
"GraphBuilder::GraphBuilder",
"GraphBuilder::iterate_all_blocks",
"GraphBuilder::iterate_bytecodes_for_block",
"GraphBuilder::invoke",
"GraphBuilder::try_inline",
"GraphBuilder::try_inline_full",
"ciMethod::ensure_method_data",
"ciMethodData::load_data",
"Compilation::emit_code_body",
"LIR_Assembler::emit_code",
"LIR_Assembler::reg2stack",
"Compilation::emit_lir",
"LinearScan::do_linear_scan",
"LinearScan::allocate_registers",
"IntervalWalker::walk_to",
"LinearScanWalker::activate_current",
"LinearScanWalker::alloc_free_reg",
"LinearScanWalker::free_collect_inactive_fixed",
"LinearScanWalker::split_and_spill_interval",
"LinearScanWalker::split_before_usage",
"Interval::split",
"LinearScan::build_intervals",
"LinearScan::add_temp",
"ProfileData::translate_from",
"InstanceKlass::add_dependent_nmethod",
"DependencyContext::add_dependent_nmethod",
"nmethodBucket::next_not_unloading",
"ciEnv::ciEnv",
"ciObjectFactory::ciObjectFactory",
"ciEnv::~ciEnv",
"ciObjectFactory::remove_symbols",
"Symbol::decrement_refcount",
"CompileQueue::get",
"Monitor::wait",
"__gettimeofday",
"MonitorDeflationThread::monitor_deflation_thread_entry",
"ServiceThread::service_thread_entry",
"SymbolTable::do_concurrent_work",
"SymbolTable::clean_dead_entries",
"void ConcurrentHashTable<SymbolTableConfig, (MEMFLAGS)11>::do_bulk_delete_locked_for<SymbolTableDeleteCheck, SymbolTableDoDelete>",
"PeriodicTask::real_time_tick",
"VMThread::run",
"VMThread::inner_execute",
"SafepointSynchronize::begin",
"SafepointSynchronize::do_cleanup_tasks",
"ParallelCleanupTask::work",
"OopStorage::trigger_cleanup_if_needed",
"Mutex::lock_without_safepoint_check",
"pthread_mutex_lock",
"VMThread::evaluate_operation",
"VM_Operation::evaluate",
"VM_CollectForMetadataAllocation::doit",
"G1CollectedHeap::start_concurrent_gc_for_metadata_allocation",
"G1CollectedHeap::do_collection_pause_at_safepoint_helper",
"G1YoungCollector::collect",
"G1Policy::record_young_collection_end",
"G1GCPhaseTimes::sum_thread_work_items",
"VM_G1CollectForAllocation::doit",
"G1CollectedHeap::do_collection_pause_at_safepoint",
"G1GCPhaseTimes::print",
"G1GCPhaseTimes::print_post_evacuate_collection_set",
"ReferenceProcessorPhaseTimes::print_all_references",
"ReferenceProcessorPhaseTimes::print_phase",
"outputStream::print_cr",
"os::vsnprintf",
"_vsnprintf",
"__vfprintf",
"G1Policy::record_young_collection_start",
"G1SurvRateGroup::stop_adding_regions",
"TruncatedSeq::TruncatedSeq",
"AllocateHeap",
"_malloc_zone_malloc",
"G1YoungCollector::evacuate_initial_collection_set",
"WorkerThreads::run_task",
"semaphore_signal_trap",
"G1YoungCollector::post_evacuate_collection_set",
"G1CollectedHeap::gc_epilogue",
"WorkerThreads::threads_do",
"ThreadTotalCPUTimeClosure::do_thread",
"os::thread_cpu_time",
"thread_info",
"mach_msg2_trap",
"G1CollectedHeap::rebuild_free_region_list",
"HeapRegionManager::rebuild_free_list",
"G1YoungCollector::process_discovered_references",
"ReferenceProcessor::process_discovered_references",
"ReferenceProcessor::process_soft_weak_final_refs",
"ReferenceProcessor::run_task",
"G1STWRefProcProxyTask::work",
"RefProcSoftWeakFinalPhaseTask::rp_work",
"G1ParEvacuateFollowersClosure::do_void",
"G1ParScanThreadState::steal_and_trim_queue",
"GenericTaskQueueSet<OverflowTaskQueue<ScannerTask, (MEMFLAGS)5, 131072u>, (MEMFLAGS)5>::steal_best_of_2",
"semaphore_wait_trap",
"void WeakProcessor::weak_oops_do<G1STWIsAliveClosure, G1KeepAliveClosure>",
"G1YoungCollector::pre_evacuate_collection_set",
"VM_G1PauseConcurrent::doit",
"G1ConcurrentMark::remark",
"G1CollectedHeap::unload_classes_and_code",
"SystemDictionary::do_unloading",
"ClassLoaderDataGraph::clean_module_and_package_info",
"PackageEntryTable::purge_all_package_exports",
"G1ConcurrentMark::reclaim_empty_regions",
"WatcherThread::run",
"WatcherThread::sleep",
"WorkerThread::run",
"G1BatchedTask::work",
"G1PostEvacuateCollectionSetCleanupTask2::FreeCollectionSetTask::do_work",
"G1CollectedHeap::par_iterate_regions_array",
"FreeCSetClosure::do_heap_region",
"CompositeElapsedCounterSource::now",
"os::elapsed_counter",
"G1CollectedHeap::free_region",
"HeapRegion::hr_clear",
"HeapRegionRemSet::clear",
"G1CardSetMemoryManager::flush",
"FreeListAllocator::reset",
"G1CodeRootSet::clear",
"HeapRegionClaimer::claim_region",
"G1CMConcurrentMarkingTask::work",
"G1CMTask::do_marking_step",
"G1CMBitMap::iterate",
"G1CMTask::drain_global_stack",
"G1CMTask::drain_local_queue",
"void G1CMTask::process_grey_task_entry<true>",
"void OopOopIterateDispatch<G1CMOopClosure>::Table::oop_oop_iterate<InstanceClassLoaderKlass, narrowOop>",
"void OopOopIterateDispatch<G1CMOopClosure>::Table::oop_oop_iterate<InstanceKlass, narrowOop>",
"void OopOopIterateDispatch<G1CMOopClosure>::Table::oop_oop_iterate<ObjArrayKlass, narrowOop>",
"G1CMTask::make_reference_grey",
"G1ConcurrentMark::mark_in_bitmap",
"void InstanceMirrorKlass::oop_oop_iterate<narrowOop, G1CMOopClosure>",
"ClassLoaderData::oops_do",
"MarkBitMap::check_mark",
"TaskTerminator::offer_termination",
"swtch_pri",
"G1CMRootRegionScanTask::work",
"G1ConcurrentMark::scan_root_region",
"void OopOopIterateDispatch<G1RootRegionScanClosure>::Table::oop_oop_iterate<InstanceKlass, narrowOop>",
"G1EvacuateRegionsBaseTask::work",
"G1EvacuateRegionsTask::evacuate_live_objects",
"G1GCPhaseTimes::phase_name",
"G1ParEvacuateFollowersClosure::offer_termination",
"SpinPause",
"_pthread_mutex_firstfit_unlock_slow",
"__psynch_mutexdrop",
"os::elapsedTime",
"mach_absolute_time",
"G1ParScanThreadState::trim_queue_to_threshold",
"G1ParScanThreadState::do_copy_to_survivor_space",
"void OopOopIterateBackwardsDispatch<G1ScanEvacuatedObjClosure>::Table::oop_oop_iterate_backwards<InstanceKlass, narrowOop>",
"_Copy_disjoint_words",
"fwd_copy_again",
"void G1ParScanThreadState::write_ref_field_post<narrowOop>",
"void InstanceRefKlass::oop_oop_iterate_reverse<narrowOop, G1ScanEvacuatedObjClosure>",
"void InstanceRefKlass::oop_oop_iterate_ref_processing<narrowOop, G1ScanEvacuatedObjClosure, AlwaysContains>",
"G1EvacuateRegionsTask::scan_roots",
"G1RemSet::scan_heap_roots",
"G1ScanHRForRegionClosure::do_heap_region",
"G1ScanHRForRegionClosure::scan_heap_roots",
"void G1ScanHRForRegionClosure::ChunkScanner::on_dirty_cards<G1ScanHRForRegionClosure::scan_heap_roots(HeapRegion*)::'lambda'(unsigned char*, unsigned char*)>",
"G1ScanHRForRegionClosure::scan_memregion",
"os::javaTimeNanos",
"G1ParScanThreadState::start_partial_objarray",
"void G1ScanEvacuatedObjClosure::do_oop_work<narrowOop>",
"void InstanceMirrorKlass::oop_oop_iterate_reverse<narrowOop, G1ScanEvacuatedObjClosure>",
"G1ParScanThreadState::do_partial_array",
"fwd_copy_aligned",
"fwd_copy_drain",
"HeapWordImpl** HeapRegion::oops_on_memregion_iterate<G1ScanCardClosure, true>",
"HeapRegion::block_size",
"HeapWordImpl** HeapRegion::oops_on_memregion_iterate_in_unparsable<G1ScanCardClosure>",
"void OopOopIterateBoundedDispatch<G1ScanCardClosure>::Table::oop_oop_iterate_bounded<ObjArrayKlass, narrowOop>",
"void G1ScanCardClosure::do_oop_work<narrowOop>",
"void InstanceMirrorKlass::oop_oop_iterate<narrowOop, G1ScanCardClosure>",
"void OopOopIterateDispatch<G1ScanCardClosure>::Table::oop_oop_iterate<ObjArrayKlass, narrowOop>",
"G1RootProcessor::evacuate_roots",
"G1RootProcessor::process_java_roots",
"ClassLoaderDataGraph::roots_cld_do",
"G1CLDScanClosure::do_cld",
"void G1ParCopyClosure<(G1Barrier)1, false>::do_oop_work<oopDesc*>",
"G1ParScanThreadState::copy_to_survivor_space",
"void InstanceClassLoaderKlass::oop_oop_iterate_reverse<narrowOop, G1ScanEvacuatedObjClosure>",
"Threads::possibly_parallel_oops_do",
"Threads::possibly_parallel_threads_do",
"Thread::oops_do",
"JavaThread::oops_do_frames",
"frame::oops_code_blob_do",
"G1CodeBlobClosure::do_code_blob",
"nmethod::oops_do_process_weak",
"nmethod::fix_oop_relocations",
"RelocIterator::advance_over_prefix",
"frame::oops_interpreted_do",
"InstanceKlass::mask_for",
"InterpreterOopMap::iterate_oop",
"void G1ParCopyClosure<(G1Barrier)0, false>::do_oop_work<oopDesc*>",
"Method::mask_for",
"OopMapCache::lookup",
"G1ParScanThreadStateSet::state_for_worker",
"G1ParScanThreadState::G1ParScanThreadState",
"os::malloc",
"szone_malloc_should_clear",
"tiny_malloc_should_clear",
"tiny_malloc_from_free_list",
"_tiny_check_and_zero_inline_meta_from_freelist",
"PtrQueueSet::PtrQueueSet",
"G1RemSet::scan_collection_set_regions",
"G1EvacPhaseWithTrimTimeTracker::~G1EvacPhaseWithTrimTimeTracker",
"G1ScanCollectionSetRegionClosure::do_heap_region",
"G1CodeRootSet::nmethods_do",
"void ConcurrentHashTable<G1CodeRootSetHashTableConfig, (MEMFLAGS)5>::ScanTask::do_safepoint_scan<G1CodeRootSetHashTable::iterate_at_safepoint(CodeBlobClosure*)::'lambda'(nmethod**)>",
"G1ScanAndCountCodeBlobClosure::do_code_blob",
"G1NmethodProcessor::do_regular_processing",
"nmethod::oops_do",
"G1CodeBlobClosure::HeapRegionGatheringOopClosure::do_oop",
"void G1ParCopyClosure<(G1Barrier)2, false>::do_oop_work<oopDesc*>",
"G1CodeRootSet::add",
"G1CodeRootSetHashTable::insert",
"ConcurrentHashTable<G1CodeRootSetHashTableConfig, (MEMFLAGS)5>::internal_grow_range",
"GlobalCounter::write_synchronize",
"bool ConcurrentHashTable<G1CodeRootSetHashTableConfig, (MEMFLAGS)5>::internal_insert_get<G1CodeRootSetHashTable::HashTableLookUp, bool ConcurrentHashTable<G1CodeRootSetHashTableConfig, (MEMFLAGS)5>::insert<G1CodeRootSetHashTable::HashTableLookUp>(Thread*, G1CodeRootSetHashTable::HashTableLookUp&, nmethod* const&, bool*, bool*)::NOP>",
"metadata_Relocation::copy_into",
"metadata_Relocation::unpack_data",
"sys_icache_invalidate",
"G1EvacPhaseWithTrimTimeTracker::G1EvacPhaseWithTrimTimeTracker",
"G1MergeHeapRootsTask::work",
"G1MergeHeapRootsTask::G1ClearBitmapClosure::do_heap_region",
"G1ConcurrentMark::clear_statistics",
"G1ParallelCleaningTask::work",
"CodeCacheUnloadingTask::work",
"ClassUnloadingContext::register_unlinked_nmethod",
"GrowableArrayWithAllocator<nmethod*, GrowableArrayCHeap<nmethod*, (MEMFLAGS)5>>::append",
"CodeCacheUnloadingTask::claim_nmethods",
"CodeCache::next_blob",
"CodeHeap::block_start",
"CodeHeap::next_used",
"nmethod::do_unloading",
"CompiledMethod::unload_nmethod_caches",
"CompiledMethod::cleanup_inline_caches_impl",
"ClassLoaderData::is_alive",
"CodeHeap::find_blob",
"CompiledIC::ic_destination",
"NativeCall::destination",
"nmethod::is_unloading",
"IsUnloadingBehaviour::is_unloading",
"nmethod::unlink",
"CompiledMethod::clear_ic_callsites",
"CompiledIC::set_to_clean",
"NativeMovConstReg::set_data",
"Method::unlink_code",
"nmethod::flush_dependencies",
"InstanceKlass::clean_dependency_context",
"DependencyContext::clean_unloading_dependents",
"ClosureIsUnloadingBehaviour::has_dead_oop",
"G1PrepareEvacuationTask::work",
"HeapRegionManager::par_iterate",
"G1PrepareEvacuationTask::G1PrepareRegionsClosure::do_heap_region",
"G1RebuildFreeListTask::work",
"G1RebuildRSAndScrubTask::work",
"G1RebuildRSAndScrubTask::G1RebuildRSAndScrubRegionClosure::scan_and_scrub_region",
"G1RebuildRSAndScrubTask::G1RebuildRSAndScrubRegionClosure::scan_and_scrub_to_pb",
"G1RebuildRSAndScrubTask::G1RebuildRSAndScrubRegionClosure::scan_object",
"void InstanceMirrorKlass::oop_oop_iterate<narrowOop, G1RebuildRemSetClosure>",
"void OopOopIterateDispatch<G1RebuildRemSetClosure>::Table::oop_oop_iterate<InstanceKlass, narrowOop>",
"G1CardSet::add_card",
"G1CardSet::add_to_howl",
"FreeListAllocator::release",
"void OopOopIterateDispatch<G1RebuildRemSetClosure>::Table::oop_oop_iterate<ObjArrayKlass, narrowOop>",
"G1ReclaimEmptyRegionsTask::work",
"G1ReclaimEmptyRegionsTask::G1ReclaimEmptyRegionsClosure::do_heap_region",
"G1STWIsAliveClosure::do_object_b",
"KlassCleaningTask::work",
"ClassLoaderDataGraphKlassIteratorAtomic::next_klass",
"InstanceKlass::clean_weak_instanceklass_links",
"MethodData::clean_method_data",
"Klass::clean_weak_klass_links",
"Klass::next_sibling",
"void WeakProcessor::Task::work<G1STWIsAliveClosure, G1KeepAliveClosure>",
"G1KeepAliveClosure::do_oop",
];

d([0,0,1,2,3,4,5,6,7,],1,0);
d([1,8,9,],1,0);
d([0,10,11,],0,1);
d([1,12,],1,0);
d([1,13,14,15,],6,0);
d([2,15,],8,0);
d([1,16,17,15,],1,0);
d([1,18,19,15,],0,1);
d([2,15,],0,2);
d([0,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,],0,1);
d([5,39,40,41,34,35,36,42,43,44,45,46,47,48,],0,1);
d([8,27,28,29,30,49,50,51,51,52,53,54,55,56,],0,1);
d([15,57,58,59,59,60,61,62,63,64,],1,0);
d([7,65,66,67,68,69,70,71,],1,0);
d([6,72,],1,0);
d([7,73,],154,176);
d([8,19,74,75,76,],1,3);
d([8,77,78,],1,0);
d([10,79,80,34,35,81,82,83,84,],1,0);
d([11,85,],99,0);
d([12,17,86,75,12,],1,0);
d([12,87,],22,0);
d([10,88,80,89,90,91,],1,0);
d([13,92,93,94,],17,0);
d([16,95,],49,0);
d([16,96,],1,0);
d([13,97,97,98,],582,0);
d([16,99,100,101,71,],1,0);
d([16,14,86,75,102,],14,0);
d([16,103,104,],2,0);
d([16,87,],8,0);
d([12,105,106,],1,0);
d([8,107,108,109,],2,8);
d([11,85,],1,0);
d([12,110,],71,101);
d([13,19,74,75,111,112,113,],1,0);
d([17,102,],1,0);
d([16,76,],1,3);
d([13,114,],1,0);
d([11,115,],44,93);
d([8,116,],1,1);
d([9,117,],1,0);
d([10,118,119,120,],1,2);
d([12,95,],1,3);
d([10,121,117,122,],0,1);
d([13,123,17,86,75,111,124,125,126,],0,1);
d([14,127,],1,1);
d([14,128,],1,1);
d([15,129,],1,0);
d([15,130,],731,351);
d([16,131,132,133,134,],0,1);
d([16,87,],10,13);
d([14,135,131,132,136,136,137,138,],1,0);
d([12,139,120,],0,1);
d([13,95,],0,5);
d([12,140,141,142,143,144,145,146,147,148,149,150,151,152,],0,1);
d([13,127,153,154,155,156,157,],1,0);
d([17,86,75,102,],0,2);
d([13,158,127,120,],0,1);
d([14,159,159,],1,0);
d([16,128,],0,1);
d([17,127,160,120,],5,0);
d([19,154,155,15,],0,1);
d([17,130,],636,341);
d([18,14,86,75,111,124,],1,0);
d([18,87,],7,6);
d([11,161,162,93,],0,1);
d([14,94,],1,0);
d([15,120,],5,0);
d([15,95,],23,0);
d([11,97,97,98,],173,99);
d([14,14,86,75,111,113,],1,0);
d([18,102,],0,1);
d([17,102,],1,0);
d([14,94,],2,1);
d([15,95,],9,11);
d([14,103,],0,1);
d([15,120,],1,0);
d([14,87,],6,9);
d([10,163,],1,0);
d([8,164,],1,0);
d([8,110,],87,151);
d([9,19,74,75,111,124,125,126,],0,1);
d([6,165,24,25,26,27,28,29,30,31,32,33,166,167,120,],1,0);
d([0,168,169,170,171,172,173,174,],0,1);
d([6,175,176,177,178,],2,1);
d([10,179,],2,0);
d([8,180,181,182,183,],1,0);
d([10,184,185,186,],1,0);
d([11,186,],1,0);
d([9,187,],0,1);
d([6,188,189,190,191,],7,6);
d([5,192,193,194,195,196,197,198,199,200,],0,7);
d([6,201,189,190,191,],2,3);
d([9,202,203,],0,1);
d([4,204,205,206,207,208,209,210,211,],0,1);
d([11,212,],2,0);
d([12,213,],1,0);
d([12,214,],0,1);
d([12,215,216,],0,1);
d([11,217,],3,1);
d([12,211,],3,5);
d([12,218,],0,1);
d([12,219,],1,0);
d([13,220,221,],1,0);
d([14,220,222,],0,1);
d([15,220,223,224,],1,0);
d([15,102,],0,1);
d([14,223,],0,1);
d([15,225,226,227,228,],1,0);
d([13,229,230,],1,0);
d([15,229,230,229,],0,1);
d([16,231,7,],0,1);
d([15,230,229,230,229,230,229,230,],1,0);
d([13,232,],0,1);
d([13,233,],1,0);
d([13,234,],0,1);
d([13,102,],1,0);
d([12,235,236,],1,0);
d([12,237,],1,0);
d([11,238,],0,1);
d([10,239,240,241,],0,1);
d([11,242,],1,0);
d([10,243,244,245,],0,1);
d([11,246,247,247,],1,0);
d([11,248,249,],1,0);
d([12,250,],0,1);
d([12,251,],2,0);
d([12,252,],2,3);
d([13,250,],0,2);
d([13,253,],1,0);
d([12,254,],1,0);
d([13,251,],1,1);
d([13,255,],0,2);
d([14,252,256,],1,0);
d([15,250,257,],1,0);
d([13,258,],3,1);
d([13,259,],1,0);
d([12,260,261,],0,1);
d([13,262,],1,1);
d([13,263,],1,0);
d([13,264,],0,1);
d([12,265,],1,0);
d([12,266,],1,0);
d([12,267,],1,0);
d([12,268,],1,0);
d([10,269,270,],1,0);
d([11,271,272,273,],1,0);
d([11,274,],1,1);
d([11,275,],3,2);
d([11,276,],1,2);
d([12,277,],0,1);
d([12,278,],1,0);
d([12,279,],1,0);
d([12,7,],1,0);
d([11,280,],3,1);
d([12,277,],0,1);
d([12,281,],0,1);
d([13,7,],1,0);
d([11,282,],9,8);
d([12,283,],1,1);
d([12,284,],1,0);
d([12,285,],2,0);
d([12,286,],1,0);
d([12,287,288,],1,0);
d([13,7,],0,1);
d([11,289,],4,4);
d([12,290,],0,1);
d([12,291,],1,0);
d([12,277,],0,2);
d([12,292,],0,1);
d([12,283,],1,0);
d([12,285,],0,1);
d([12,293,],2,0);
d([13,277,],1,0);
d([12,294,],0,1);
d([11,295,],1,1);
d([12,7,],1,0);
d([11,296,],2,1);
d([12,297,],1,0);
d([12,298,299,],1,0);
d([12,300,],0,1);
d([11,301,302,],1,1);
d([11,302,],0,1);
d([11,303,],4,2);
d([12,304,],2,4);
d([12,305,],1,0);
d([11,306,],0,1);
d([11,307,308,309,310,],1,0);
d([11,311,312,],2,0);
d([13,277,],2,0);
d([11,313,],0,1);
d([12,7,],0,1);
d([11,314,],1,0);
d([11,315,],3,1);
d([12,316,],1,1);
d([11,317,],1,0);
d([11,102,],1,0);
d([11,318,],1,0);
d([11,319,],0,1);
d([11,320,],0,1);
d([11,321,],0,1);
d([10,322,323,],2,1);
d([11,324,],2,0);
d([12,325,326,],1,0);
d([12,327,328,329,],0,1);
d([12,330,],1,0);
d([13,331,332,],0,1);
d([12,333,334,335,],1,0);
d([15,336,],0,1);
d([13,332,336,],1,0);
d([13,337,],1,0);
d([13,338,339,],1,0);
d([14,7,],0,1);
d([12,340,341,],1,0);
d([11,342,343,],1,0);
d([13,327,],0,1);
d([11,344,],0,2);
d([12,345,],2,0);
d([12,346,],1,0);
d([12,347,],1,0);
d([12,348,],0,1);
d([10,349,350,351,352,],1,0);
d([13,353,354,355,356,357,358,],0,1);
d([16,359,358,360,],1,0);
d([11,361,],1,0);
d([10,362,],0,1);
d([9,363,364,365,366,367,368,369,365,366,367,368,369,370,371,372,373,374,375,376,377,378,379,380,381,],1,0);
d([10,382,383,],1,1);
d([12,384,385,],1,0);
d([10,386,387,388,389,],0,1);
d([11,390,391,],0,1);
d([10,392,393,394,395,396,396,397,],0,1);
d([14,398,398,398,398,398,398,399,400,401,402,403,],1,0);
d([16,399,404,],0,1);
d([14,405,405,406,407,408,409,410,411,412,],1,0);
d([15,406,413,414,],1,0);
d([14,415,],1,1);
d([14,416,],0,1);
d([14,417,],2,1);
d([14,418,],1,0);
d([14,419,],4,5);
d([15,271,272,420,],1,0);
d([15,421,],1,0);
d([15,422,],0,1);
d([14,423,],3,1);
d([15,424,],0,2);
d([15,425,],2,0);
d([14,426,],4,1);
d([15,427,],4,1);
d([16,428,],1,0);
d([16,429,430,],1,1);
d([16,431,432,433,434,435,436,437,438,],1,0);
d([17,414,],1,0);
d([16,439,440,],1,0);
d([14,441,442,443,444,445,446,447,448,],0,1);
d([14,449,],2,2);
d([15,450,451,],1,0);
d([16,452,453,],0,1);
d([17,454,455,431,414,],1,0);
d([15,456,457,],1,0);
d([15,458,],1,0);
d([14,459,460,],1,0);
d([15,461,462,463,464,465,7,],1,0);
d([12,387,466,],1,0);
d([13,388,467,468,469,],1,1);
d([14,470,471,472,],1,0);
d([10,473,387,474,271,272,475,476,477,],0,1);
d([13,478,479,480,],0,1);
d([12,388,],0,1);
d([13,481,468,469,],1,0);
d([13,482,483,432,484,485,486,7,],1,0);
d([13,484,],1,0);
d([10,487,],0,2);
d([11,488,489,434,435,436,437,],0,1);
d([10,490,491,],0,1);
d([12,492,493,494,495,],1,0);
d([12,496,],1,0);
d([12,497,],0,1);
d([13,498,],1,0);
d([14,498,498,498,498,499,498,499,498,498,498,498,498,498,499,498,499,498,498,498,498,499,498,498,498,498,498,499,498,499,498,498,498,498,498,498,499,498,499,498,498,498,498,499,498,499,498,499,498,499,498,498,499,498,498,498,498,498,498,499,498,499,498,499,498,498,498,498,498,498,499,498,499,498,498,498,498,498,498,498,499,498,499,498,498,498,498,498,498,499,498,499,498,498,499,498,499,498,498,499,498,499,498,498,],0,1);
d([14,499,498,499,498,],1,0);
d([18,498,498,498,499,498,499,498,498,499,500,],0,1);
d([27,498,498,498,499,498,499,498,498,498,498,499,498,499,498,498,499,498,499,498,499,500,],1,0);
d([20,499,498,499,498,498,499,498,499,498,499,498,498,501,],1,0);
d([18,499,498,499,498,499,500,],0,1);
d([13,502,503,448,222,504,],1,0);
d([13,505,506,507,],0,1);
d([13,508,509,],1,0);
d([12,446,447,236,],0,1);
d([10,510,511,512,513,436,],1,0);
d([12,514,],0,1);
d([12,515,],1,0);
d([12,516,517,],0,2);
d([13,518,519,],0,1);
d([14,520,],1,0);
d([14,521,522,],0,1);
d([14,517,],1,0);
d([13,484,434,435,523,],1,0);
d([14,485,],1,0);
d([12,433,524,7,],1,0);
d([10,525,526,],1,1);
d([12,527,],0,1);
d([12,528,529,],0,1);
d([10,393,394,395,530,],1,0);
d([13,531,],0,2);
d([13,396,396,396,396,532,533,534,535,536,],0,1);
d([15,537,538,539,],1,0);
d([16,540,541,474,],1,0);
d([13,398,398,398,399,542,],1,0);
d([15,399,542,402,543,466,],1,0);
d([13,544,],1,0);
d([13,419,],2,3);
d([14,421,],1,3);
d([14,417,],1,0);
d([13,423,],3,1);
d([14,425,],0,1);
d([13,426,],3,3);
d([14,427,],1,3);
d([15,545,],1,0);
d([15,440,],0,1);
d([15,429,430,],0,1);
d([15,431,432,221,546,],1,0);
d([17,433,434,435,547,],0,1);
d([16,414,],0,1);
d([16,102,],1,0);
d([15,548,],1,0);
d([15,439,440,],1,0);
d([13,549,],1,1);
d([13,449,],2,0);
d([14,550,541,551,],1,0);
d([16,474,552,],0,1);
d([14,450,553,554,555,556,557,],1,0);
d([15,452,454,455,431,558,],0,1);
d([13,559,],1,0);
d([11,387,388,467,468,469,],3,0);
d([13,508,509,],0,1);
d([15,560,],1,0);
d([13,470,],1,0);
d([14,561,417,],1,0);
d([15,562,],1,0);
d([15,563,],3,1);
d([16,562,],1,0);
d([15,102,],0,1);
d([13,389,541,474,552,],1,0);
d([13,564,565,566,567,568,],0,1);
d([13,569,],1,0);
d([10,570,],2,0);
d([11,508,509,],1,0);
d([10,387,388,],2,0);
d([12,571,],1,0);
d([12,467,468,],0,1);
d([12,572,573,574,575,435,],1,0);
d([12,576,577,388,],1,0);
d([12,578,579,580,],0,1);
d([12,482,581,567,568,],3,2);
d([14,433,434,435,547,],1,0);
d([12,582,221,484,434,435,436,],0,1);
d([12,583,584,],1,0);
d([12,585,],1,2);
d([12,586,],1,0);
d([12,466,],0,1);
d([13,587,],1,0);
d([13,588,],0,1);
d([13,589,],1,0);
d([13,506,590,],0,1);
d([12,508,],0,1);
d([13,509,],0,1);
d([12,541,],1,0);
d([13,551,],0,1);
d([13,478,],0,1);
d([13,591,],0,1);
d([14,505,506,590,592,],1,0);
d([13,474,478,479,],2,1);
d([12,470,],1,0);
d([13,593,],1,0);
d([13,471,472,],1,0);
d([12,594,],0,1);
d([13,595,],1,0);
d([13,574,596,597,598,],0,1);
d([12,599,],0,1);
d([12,600,577,541,474,458,],1,0);
d([12,389,478,479,],0,1);
d([13,541,474,552,],1,0);
d([13,472,601,602,],1,0);
d([13,561,563,],0,1);
d([12,564,565,566,567,568,],3,4);
d([12,603,581,433,7,],0,1);
d([12,604,],1,0);
d([12,590,],1,0);
d([12,507,],1,0);
d([10,605,606,607,509,],1,0);
d([13,508,],1,0);
d([13,541,474,552,],0,1);
d([12,608,609,610,611,611,611,611,611,611,611,611,611,611,611,611,611,611,611,611,611,611,611,611,611,611,611,611,611,611,611,611,611,611,611,611,611,611,595,],0,1);
d([10,612,387,],1,0);
d([12,388,512,513,434,435,436,],1,0);
d([13,613,],1,0);
d([13,614,615,],1,0);
d([13,482,483,432,433,524,616,617,],1,0);
d([13,618,],2,0);
d([13,506,590,547,619,],0,1);
d([13,620,],1,0);
d([11,621,505,],1,0);
d([12,622,623,624,],1,0);
d([11,625,479,508,],0,1);
d([10,626,390,527,],1,0);
d([12,391,],1,0);
d([12,627,],1,0);
d([11,628,],0,1);
d([9,365,366,367,368,369,370,629,379,380,630,],1,0);
d([14,631,632,633,574,524,],0,1);
d([14,365,366,367,368,369,365,366,367,368,369,365,366,367,368,369,634,635,636,637,],0,1);
d([24,638,],0,1);
d([25,638,365,366,367,368,369,638,365,366,367,368,369,638,365,366,367,368,369,638,365,366,367,368,369,638,365,366,367,368,369,365,366,367,368,369,365,366,367,368,639,640,641,642,466,],1,0);
d([19,638,365,366,367,368,369,638,365,366,367,368,369,365,366,367,368,643,644,645,646,647,648,649,650,564,565,566,567,568,],1,0);
d([31,638,365,366,367,368,369,365,366,367,368,651,652,653,654,655,],1,0);
d([14,638,365,366,367,368,369,365,366,367,368,369,365,366,367,368,369,365,366,367,368,369,365,366,367,368,656,657,658,650,482,483,434,659,],1,0);
d([29,656,660,655,],1,0);
d([22,661,650,],0,1);
d([20,638,365,366,367,368,369,365,366,367,368,369,365,366,367,368,369,631,632,633,574,596,434,435,436,],1,0);
d([26,638,365,366,367,368,369,638,365,366,367,368,662,663,664,650,665,595,],0,1);
d([25,643,666,667,668,669,658,650,482,581,],1,0);
d([25,639,640,670,],1,0);
d([25,651,652,653,671,],1,0);
d([15,638,365,366,367,368,369,672,673,629,379,380,674,675,676,677,],0,1);
d([21,365,366,367,368,369,365,366,367,368,369,638,678,679,680,650,681,682,582,579,],1,0);
d([26,638,365,366,367,368,369,638,365,366,367,368,369,638,365,366,367,368,369,365,366,367,368,643,666,650,433,524,7,],1,0);
d([44,638,365,366,367,368,369,638,365,366,367,368,369,638,365,366,367,368,643,644,645,646,648,649,650,564,483,595,],1,0);
d([37,683,684,685,],0,1);
d([21,638,365,366,367,368,369,370,371,372,686,],0,1);
d([27,638,365,366,367,368,369,370,371,372,373,374,375,376,377,378,379,380,674,],1,0);
d([16,638,365,366,367,368,369,365,366,367,368,369,365,366,367,368,369,638,638,365,366,367,368,369,365,366,367,368,369,687,650,572,573,574,596,574,596,524,],0,1);
d([44,365,366,367,368,369,365,366,367,368,369,370,371,372,373,374,375,376,377,],0,1);
d([44,638,365,366,367,368,369,638,365,366,367,368,369,365,366,367,368,369,365,366,367,368,656,657,650,434,435,688,],0,1);
d([41,661,650,466,506,590,689,],0,1);
d([31,690,691,692,654,693,],1,0);
d([21,651,],0,1);
d([13,683,684,685,],0,1);
d([13,650,],0,1);
d([9,390,527,],2,1);
d([10,391,],0,1);
d([9,632,633,694,434,435,695,],0,1);
d([12,696,697,698,699,700,],1,0);
d([7,701,702,703,704,705,706,],0,1);
d([13,707,707,708,709,],0,1);
d([12,710,711,712,713,714,715,716,717,718,719,],1,0);
d([11,720,721,722,],0,1);
d([11,723,724,725,726,726,],0,1);
d([15,727,728,729,],0,1);
d([16,730,731,732,],1,0);
d([13,733,734,],1,0);
d([11,718,735,],1,0);
d([10,350,351,736,737,738,],1,0);
d([12,353,354,355,356,357,358,],1,0);
d([15,359,358,360,],1,0);
d([7,739,740,],0,1);
d([7,741,742,743,],0,1);
d([6,744,745,190,746,],0,1);
d([9,191,],2,3);
d([9,202,476,477,],1,0);
d([5,747,189,190,191,],2,3);
d([5,748,749,750,751,102,],0,1);
d([4,752,],0,1);
d([4,753,754,755,756,757,758,759,760,],0,1);
d([6,761,762,763,764,765,766,767,768,],0,1);
d([8,769,770,765,766,771,772,773,774,775,776,777,778,],1,0);
d([12,779,780,781,782,783,],1,0);
d([12,784,785,786,],1,0);
d([12,787,788,789,790,791,792,793,],1,0);
d([13,794,795,785,786,],1,0);
d([13,796,797,798,799,800,801,802,803,804,],1,0);
d([13,785,805,],0,1);
d([13,806,785,786,],1,0);
d([12,807,785,786,],0,1);
d([8,808,809,810,811,812,813,],0,1);
d([10,814,785,786,],0,1);
d([4,815,816,189,190,746,],0,1);
d([8,191,],10,0);
d([4,817,818,819,820,821,822,823,],0,1);
d([9,824,825,826,827,828,],0,1);
d([12,829,],0,1);
d([8,830,],0,1);
d([6,102,],0,2);
d([5,831,832,833,],1,0);
d([8,834,],1,0);
d([8,835,836,837,],1,1);
d([10,838,],4,6);
d([10,839,],0,1);
d([11,840,841,],1,2);
d([8,836,],1,0);
d([9,840,],1,0);
d([9,842,],1,1);
d([10,843,840,],1,0);
d([10,844,],0,1);
d([9,838,],0,7);
d([9,839,],2,1);
d([10,840,],0,1);
d([11,841,],2,0);
d([10,841,],0,1);
d([7,835,836,838,],0,1);
d([7,845,],1,0);
d([8,846,],0,1);
d([7,836,],1,0);
d([5,847,848,849,],2,0);
d([5,850,851,802,852,],1,0);
d([8,853,845,],0,1);
d([10,189,190,746,],0,1);
d([12,191,],8,7);
d([12,202,476,477,],1,2);
d([10,759,476,477,],4,8);
d([10,854,],2,1);
d([10,138,],0,2);
d([10,855,856,],2,4);
d([10,846,],1,0);
d([9,857,858,],1,1);
d([8,803,859,],0,3);
d([10,860,],2,4);
d([11,861,],2,1);
d([10,862,],1,0);
d([10,863,],0,2);
d([9,864,],0,1);
d([8,859,],2,0);
d([9,860,],1,1);
d([10,865,866,],1,0);
d([10,861,],1,0);
d([6,867,868,869,870,],1,0);
d([10,871,872,822,823,873,],1,0);
d([12,859,],7,6);
d([13,860,],10,7);
d([14,874,],1,0);
d([15,875,],0,4);
d([14,875,],1,0);
d([14,876,],1,0);
d([14,865,],0,1);
d([14,861,],2,2);
d([13,877,],1,0);
d([14,875,],0,1);
d([13,862,],1,0);
d([13,863,],1,1);
d([13,878,],1,0);
d([13,879,],0,3);
d([13,875,],1,0);
d([13,865,],1,0);
d([13,861,],0,1);
d([12,880,],1,0);
d([13,881,],4,1);
d([13,882,883,884,],2,0);
d([13,884,],1,0);
d([13,885,],1,0);
d([13,883,884,],0,1);
d([13,886,],1,0);
d([14,884,],1,0);
d([7,887,888,889,890,843,],0,1);
d([12,891,],1,1);
d([13,892,874,875,],0,1);
d([14,875,],1,0);
d([14,893,],1,0);
d([13,859,],1,0);
d([14,860,],2,3);
d([15,874,],1,0);
d([15,861,],3,1);
d([9,890,],0,1);
d([9,894,895,],1,0);
d([11,896,897,898,899,900,901,],0,1);
d([17,902,],1,0);
d([13,903,],1,0);
d([14,904,],1,0);
d([14,905,],2,0);
d([15,906,],1,0);
d([14,907,904,],2,0);
d([15,908,],1,0);
d([6,909,910,782,911,912,913,914,915,],1,0);
d([8,916,],1,0);
d([6,917,820,918,],1,0);
d([8,919,],1,0);
d([9,920,921,922,899,900,923,924,925,926,859,860,],1,1);
d([20,874,875,],1,0);
d([20,875,],1,0);
d([20,861,],2,0);
d([16,927,],0,1);
d([16,928,929,],0,1);
d([18,930,854,],0,1);
d([17,931,846,],0,2);
d([14,901,],2,4);
d([15,932,],0,1);
d([15,933,],1,0);
d([14,934,],1,1);
d([9,935,822,823,858,],1,0);
d([12,873,],3,0);
d([9,918,822,823,12,],1,0);
d([12,858,],1,0);
d([12,873,],2,0);
d([5,936,820,937,938,],0,1);
d([5,939,940,],1,0);
d([7,70,71,],1,1);
d([7,941,942,],0,1);
d([7,943,944,945,],0,1);
d([8,946,],0,1);
d([7,947,948,949,],2,3);
d([10,271,272,475,476,477,],1,0);
d([10,950,],0,1);
d([10,951,],0,4);
d([10,952,953,],0,1);
d([10,902,],1,0);
d([8,954,955,],2,1);
d([7,956,957,958,959,360,],0,1);
d([8,960,759,476,477,],0,1);
d([8,961,962,963,738,],0,3);
d([12,954,955,964,924,],0,1);
d([5,965,966,],5,0);
d([7,967,],1,0);
d([6,855,856,],1,0);
d([5,968,],1,0);
d([5,969,966,970,971,],1,1);
d([9,972,],2,0);
d([10,973,],1,1);
d([10,974,],1,3);
d([11,975,976,977,930,],0,1);
d([10,978,],2,3);
d([5,979,966,980,],0,1);
d([6,855,856,],0,1);
d([5,981,],0,1);
d([5,982,983,],0,1);
d([6,984,985,],0,3);
d([6,986,987,950,],0,1);
d([5,805,],14,16);
d([5,988,],5,0);
d([6,989,],2,0);
d([6,981,],1,1);


console.timeEnd("[clj-async-profiler] Data load/eval");

performSlowAction(function() {
  redrawTransformsSection();
  fullRedraw(true);
  sidebar.style.visibility = 'visible';
  smallbar.style.visibility = 'visible';
});

    </script>
  </body>
</html>
